!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e||self).analyticsSdk={})}(this,function(e){var n=function(e){var n=e.country,t=e.currency,r=e.exchangeRate;this.country=void 0,this.currency=void 0,this.exchangeRate=void 0,this.country=n,this.currency=t,this.exchangeRate=r},t=/*#__PURE__*/function(){function e(){}var n=e.prototype;return n.getViewItemProduct=function(e){var n,t=null==(n=window.dataLayer)?void 0:n.flatMap(function(e){return"view_item"===(null==e?void 0:e.event)?e.items:[]});return e?null==t?void 0:t.find(function(n){return n.item_id==e}):null==t?void 0:t[0]},n.getViewItemListProduct=function(e){var n,t=null==(n=window.dataLayer)?void 0:n.flatMap(function(e){return"view_item_list"===(null==e?void 0:e.event)?e.items:[]});return e?null==t?void 0:t.find(function(n){return n.item_id==e}):null==t?void 0:t[0]},n.getDeliveryMethod=function(){var e,n;return null==(e=window.dataLayer)||null==(n=e.reverse().find(function(e){return e.main_shipping_option}))?void 0:n.main_shipping_option},n.push=function(e){var n;null==(n=window.dataLayer)||n.push(e)},e}();function r(){return r=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},r.apply(this,arguments)}function o(e){throw new Error(e)}t.dataLayer=new t;var i="genericEvent",u=/*#__PURE__*/function(){function e(e,n,t,r,o,i){this.event=void 0,this.category=void 0,this.action=void 0,this.label=void 0,this.country=void 0,this.genericEventData=void 0,this.event=e,this.category=n,this.action=t,this.label=r,this.country=o,this.genericEventData=i}return e.prototype.clearEventData=function(){return{genericEventData:void 0}},e}();function a(e,n,t){return{name:"simpleTrackEvent",event:{category:e,action:n,label:t}}}function c(e,n,t){var u,a,c,l=n.event;l||o("Error: event not found");var s=r({event:i,category:null!=(u=l.category)?u:o("Error: category in genericEvent is null or undefined"),action:null!=(a=l.action)?a:o("Error: action in genericEvent is null or undefined"),label:null!=(c=l.label)?c:"",country:t.country},l.actionElement&&{actionElement:l.actionElement});e.push(s)}var l=/*#__PURE__*/function(){function e(e){this.dataLayer=void 0,this.dataLayer=e}return e.prototype.push=function(e){this.dataLayer.push(e),e instanceof u&&this.dataLayer.push(e.clearEventData())},e}(),s={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"},d=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];Object.prototype.hasOwnProperty.call(s,e)||(e=s.log),d[e].apply(d,n)};d.debug=console.debug.bind(console),d.log=console.log.bind(console),d.info=console.info.bind(console),d.warn=console.warn.bind(console),d.error=console.error.bind(console);var f,v,p,y,g,m=function(e,n,t){if(t||2===arguments.length)for(var r,o=0,i=n.length;o<i;o++)!r&&o in n||(r||(r=Array.prototype.slice.call(n,0,o)),r[o]=n[o]);return e.concat(r||Array.prototype.slice.call(n))},h=!1;function b(e){h=e}function k(e,n,t){var r=t.value;t.value=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=f?w(r):r;return t.apply(this,e)}}function w(e){return function(){return C(e,this,arguments)}}function C(e,n,t){try{return e.apply(n,t)}catch(e){if(_(s.error,e),f)try{f(e)}catch(e){_(s.error,e)}}}function _(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];h&&d.apply(void 0,m([e,"[MONITOR]"],n,!1))}function S(e,n,t){var r,o,i=!t||void 0===t.leading||t.leading,u=!t||void 0===t.trailing||t.trailing,a=!1;return{throttled:function(){for(var t=[],c=0;c<arguments.length;c++)t[c]=arguments[c];a?r=t:(i?e.apply(void 0,t):r=t,a=!0,o=setTimeout(function(){u&&r&&e.apply(void 0,r),a=!1,r=void 0},n))},cancel:function(){clearTimeout(o),a=!1,r=void 0}}}function E(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];return n.forEach(function(n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}),e}function x(e){return e?(parseInt(e,10)^16*Math.random()>>parseInt(e,10)/4).toString(16):"".concat(1e7,"-").concat(1e3,"-").concat(4e3,"-").concat(8e3,"-").concat(1e11).replace(/[018]/g,x)}function O(e){return 0!==e&&100*Math.random()<=e}function T(){}function A(e,n,t){if("object"!=typeof e||null===e)return JSON.stringify(e);var r=L(Object.prototype),o=L(Array.prototype),i=L(Object.getPrototypeOf(e)),u=L(e);try{return JSON.stringify(e,n,t)}catch(e){return"<error: unable to serialize object>"}finally{r(),o(),i(),u()}}function L(e){var n=e,t=n.toJSON;return t?(delete n.toJSON,function(){n.toJSON=t}):T}function R(e,n){return-1!==e.indexOf(n)}function P(e){if(Array.from)return Array.from(e);var n=[];if(e instanceof Set)e.forEach(function(e){return n.push(e)});else for(var t=0;t<e.length;t++)n.push(e[t]);return n}function M(e){return function(e){return"number"==typeof e}(e)&&e>=0&&e<=100}function I(e){return Object.keys(e).map(function(n){return e[n]})}function B(e){return 0===Object.keys(e).length}function D(e,n){return e.slice(0,n.length)===n}function N(){if("object"==typeof globalThis)return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get:function(){return this},configurable:!0});var e=_dd_temp_;return delete Object.prototype._dd_temp_,"object"!=typeof e&&(e="object"==typeof self?self:"object"==typeof window?window:{}),e}function F(e,n,t){void 0===t&&(t="");var r=e.charCodeAt(n-1),o=r>=55296&&r<=56319?n+1:n;return e.length<=o?e:"".concat(e.slice(0,o)).concat(t)}function U(e){return null===e?"null":Array.isArray(e)?"array":typeof e}function q(e,n,t){if(void 0===t&&(t=function(){if("undefined"!=typeof WeakSet){var e=new WeakSet;return{hasAlreadyBeenSeen:function(n){var t=e.has(n);return t||e.add(n),t}}}var n=[];return{hasAlreadyBeenSeen:function(e){var t=n.indexOf(e)>=0;return t||n.push(e),t}}}()),void 0===n)return e;if("object"!=typeof n||null===n)return n;if(n instanceof Date)return new Date(n.getTime());if(n instanceof RegExp){var r=n.flags||[n.global?"g":"",n.ignoreCase?"i":"",n.multiline?"m":"",n.sticky?"y":"",n.unicode?"u":""].join("");return new RegExp(n.source,r)}if(!t.hasAlreadyBeenSeen(n)){if(Array.isArray(n)){for(var o=Array.isArray(e)?e:[],i=0;i<n.length;++i)o[i]=q(o[i],n[i],t);return o}var u="object"===U(e)?e:{};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(u[a]=q(u[a],n[a],t));return u}}function j(e){return q(void 0,e)}function V(){for(var e,n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];for(var r=0,o=n;r<o.length;r++){var i=o[r];null!=i&&(e=q(e,i))}return e}function z(e,n,t,r){var o=new Date;o.setTime(o.getTime()+t);var i="expires=".concat(o.toUTCString()),u=r&&r.crossSite?"none":"strict",a=r&&r.domain?";domain=".concat(r.domain):"",c=r&&r.secure?";secure":"";document.cookie="".concat(e,"=").concat(n,";").concat(i,";path=/;samesite=").concat(u).concat(a).concat(c)}function G(e){return function(e,n){var t=new RegExp("(?:^|;)\\s*".concat(n,"\\s*=\\s*([^;]+)")).exec(e);return t?t[1]:void 0}(document.cookie,e)}function H(e,n){z(e,"",0,n)}function W(e,n){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];try{return e.apply(void 0,t)}catch(e){d.error(n,e)}}}function J(){return(new Date).getTime()}function Z(){return J()}function K(){return performance.now()}function $(){return{relative:K(),timeStamp:Z()}}function X(){return void 0===y&&(y=performance.timing.navigationStart),y}function Y(e){return function(e,n){if(function(){if(void 0!==g)return g;try{var e=new URL("http://test/path");return g="http://test/path"===e.href}catch(e){g=!1}return g}())return void 0!==n?new URL(e,n):new URL(e);if(void 0===n&&!/:/.test(e))throw new Error("Invalid URL: '".concat(e,"'"));var t=document,r=t.createElement("a");if(void 0!==n){var o=(t=document.implementation.createHTMLDocument("")).createElement("base");o.href=n,t.head.appendChild(o),t.body.appendChild(r)}return r.href=e,r}(e,function(e){if(e.origin)return e.origin;var n=e.host.replace(/(:80|:443)$/,"");return"".concat(e.protocol,"//").concat(n)}(window.location)).href}var Q="datadoghq.com",ee={logs:"logs",rum:"rum",sessionReplay:"session-replay"},ne={logs:"logs",rum:"rum",sessionReplay:"replay"};function te(e,n,t){var r=e.clientToken,o=function(e,n){var t=e.site,r=void 0===t?Q:t,o=e.internalAnalyticsSubdomain;if(o&&r===Q)return"".concat(o,".").concat(Q);var i=r.split("."),u=i.pop();return"".concat(ee[n],".browser-intake-").concat(i.join("-"),".").concat(u)}(e,n),i="https://".concat(o,"/api/v2/").concat(ne[n]),u=e.proxyUrl&&Y(e.proxyUrl);return{build:function(o,a){var c=["sdk_version:".concat("4.30.0"),"api:".concat(o)].concat(t);a&&c.push("retry_count:".concat(a.count),"retry_after:".concat(a.lastFailureStatus));var l=["ddsource=browser","ddtags=".concat(encodeURIComponent(c.join(","))),"dd-api-key=".concat(r),"dd-evp-origin-version=".concat(encodeURIComponent("4.30.0")),"dd-evp-origin=browser","dd-request-id=".concat(x())];"rum"===n&&l.push("batch_time=".concat(Z())),e.internalAnalyticsSubdomain&&l.reverse();var s="".concat(i,"?").concat(l.join("&"));return u?"".concat(u,"?ddforward=").concat(encodeURIComponent(s)):s},buildIntakeUrl:function(){return u?"".concat(u,"?ddforward"):i},endpointType:n}}var re=/[^a-z0-9_:./-]/;function oe(e,n){(n.length>200-e.length-1||re.test(n))&&d.warn("".concat(e," value doesn't meet tag requirements and will be sanitized"));var t=n.replace(/,/g,"_");return"".concat(e,":").concat(t)}function ie(e){var n={};return n.secure=function(e){return!!e.useSecureSessionCookie||!!e.useCrossSiteSessionCookie}(e),n.crossSite=!!e.useCrossSiteSessionCookie,e.trackSessionAcrossSubdomains&&(n.domain=function(){if(void 0===v){for(var e="dd_site_test_".concat(x()),n=window.location.hostname.split("."),t=n.pop();n.length&&!G(e);)z(e,"test",1e3,{domain:t="".concat(n.pop(),".").concat(t)});H(e,{domain:t}),v=t}return v}()),n}var ue="?";function ae(e){var n=[],t=ge(e,"stack"),r=String(e);return t&&D(t,r)&&(t=t.slice(r.length)),t&&t.split("\n").forEach(function(e){var t=function(e){var n=se.exec(e);if(n){var t=n[2]&&0===n[2].indexOf("native"),r=n[2]&&0===n[2].indexOf("eval"),o=de.exec(n[2]);return r&&o&&(n[2]=o[1],n[3]=o[2],n[4]=o[3]),{args:t?[n[2]]:[],column:n[4]?+n[4]:void 0,func:n[1]||ue,line:n[3]?+n[3]:void 0,url:t?void 0:n[2]}}}(e)||function(e){var n=fe.exec(e);if(n)return{args:[],column:n[3]?+n[3]:void 0,func:ue,line:n[2]?+n[2]:void 0,url:n[1]}}(e)||function(e){var n=ve.exec(e);if(n)return{args:[],column:n[4]?+n[4]:void 0,func:n[1]||ue,line:+n[3],url:n[2]}}(e)||function(e){var n=pe.exec(e);if(n){var t=n[3]&&n[3].indexOf(" > eval")>-1,r=ye.exec(n[3]);return t&&r&&(n[3]=r[1],n[4]=r[2],n[5]=void 0),{args:n[2]?n[2].split(","):[],column:n[5]?+n[5]:void 0,func:n[1]||ue,line:n[4]?+n[4]:void 0,url:n[3]}}}(e);t&&(!t.func&&t.line&&(t.func=ue),n.push(t))}),{message:ge(e,"message"),name:ge(e,"name"),stack:n}}var ce="((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\\w+\\.|\\/).*?)",le="(?::(\\d+))",se=new RegExp("^\\s*at (.*?) ?\\(".concat(ce).concat(le,"?").concat(le,"?\\)?\\s*$"),"i"),de=new RegExp("\\((\\S*)".concat(le).concat(le,"\\)")),fe=new RegExp("^\\s*at ?".concat(ce).concat(le,"?").concat(le,"??\\s*$"),"i"),ve=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,pe=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,ye=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function ge(e,n){if("object"==typeof e&&e&&n in e){var t=e[n];return"string"==typeof t?t:void 0}}function me(e,n,t){var r=e[n],o=t(r),i=function(){if("function"==typeof o)return o.apply(this,arguments)};return e[n]=i,{stop:function(){e[n]===i?e[n]=r:o=r}}}function he(e,n,t){var r=t.before,o=t.after;return me(e,n,function(e){return function(){var n,t=arguments;return r&&C(r,this,t),"function"==typeof e&&(n=e.apply(this,t)),o&&C(o,this,t),n}})}var be=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/,ke="agent",we="console",Ce="logger",_e="network",Se="source",Ee="report";function xe(e){var n=Oe(e);return e.stack.forEach(function(e){var t="?"===e.func?"<anonymous>":e.func,r=e.args&&e.args.length>0?"(".concat(e.args.join(", "),")"):"",o=e.line?":".concat(e.line):"",i=e.line&&e.column?":".concat(e.column):"";n+="\n  at ".concat(t).concat(r," @ ").concat(e.url).concat(o).concat(i)}),n}function Oe(e){return"".concat(e.name||"Error",": ").concat(e.message)}function Te(){var e,n=new Error;if(!n.stack)try{throw n}catch(e){}return C(function(){var t=ae(n);t.stack=t.stack.slice(2),e=xe(t)}),e}function Ae(e,n){for(var t=e,r=[];(null==t?void 0:t.cause)instanceof Error&&r.length<10;){var o=ae(t.cause);r.push({message:t.cause.message,source:n,type:null==o?void 0:o.name,stack:o&&xe(o)}),t=t.cause}return r.length?r:void 0}var Le=function(){function e(e){this.onFirstSubscribe=e,this.observers=[]}return e.prototype.subscribe=function(e){var n=this;return!this.observers.length&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe()||void 0),this.observers.push(e),{unsubscribe:function(){n.observers=n.observers.filter(function(n){return e!==n}),!n.observers.length&&n.onLastUnsubscribe&&n.onLastUnsubscribe()}}},e.prototype.notify=function(e){this.observers.forEach(function(n){return n(e)})},e}();function Re(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=new Le(function(){var n=e.map(function(e){return e.subscribe(function(e){return t.notify(e)})});return function(){return n.forEach(function(e){return e.unsubscribe()})}});return t}function Pe(e,n){var t,r=window;return r.Zone&&"function"==typeof r.Zone.__symbol__&&(t=e[r.Zone.__symbol__(n)]),t||(t=e[n]),t}function Me(e,n){var t=window.__ddBrowserSdkExtensionCallback;t&&t({type:e,payload:n})}var Ie,Be=["https://www.datadoghq-browser-agent.com","https://www.datad0g-browser-agent.com","http://localhost","<anonymous>"],De=["ddog-gov.com"],Ne={maxEventsPerPage:0,sentEventCount:0,telemetryEnabled:!1,telemetryConfigurationEnabled:!1};function Fe(e,n){_(s.debug,e,n),qe(E({type:"log",message:e,status:"debug"},n))}function Ue(e){qe(E({type:"log",status:"error"},function(e){if(e instanceof Error){var n=ae(e);return{error:{kind:n.name,stack:xe(je(n))},message:n.message}}return{error:{stack:"Not an instance of error"},message:"Uncaught ".concat(A(e))}}(e)))}function qe(e){Ie&&Ne.sentEventCount<Ne.maxEventsPerPage&&(Ne.sentEventCount+=1,Ie(e))}function je(e){return e.stack=e.stack.filter(function(e){return!e.url||Be.some(function(n){return D(e.url,n)})}),e}function Ve(e,n,t,r){return ze(e,[n],t,r)}function ze(e,n,t,r){var o=void 0===r?{}:r,i=o.once,u=o.capture,a=o.passive,c=w(function(e){i&&d(),function(e){var n=e.type;e.isTrusted||window.jasmine||Ge.has(n)||(Ge.add(n),Fe("Untrusted event",{event_type:n}))}(e),t(e)}),l=a?{capture:u,passive:a}:u,s=Pe(e,"addEventListener");function d(){var t=Pe(e,"removeEventListener");n.forEach(function(n){return t.call(e,n,c,l)})}return n.forEach(function(n){return s.call(e,n,c,l)}),{stop:d}}var Ge=new Set,He={intervention:"intervention",deprecation:"deprecation",cspViolation:"csp_violation"};function We(e,n,t,r,o){return t&&xe({name:e,message:n,stack:[{func:"?",url:t,line:r,column:o}]})}var Je,Ze=Infinity,Ke=function(){function e(e){var n=this;this.expireDelay=e,this.entries=[],this.clearOldContextsInterval=setInterval(function(){return n.clearOldContexts()},6e4)}return e.prototype.add=function(e,n){var t=this,r={context:e,startTime:n,endTime:Ze,remove:function(){var e=t.entries.indexOf(r);e>=0&&t.entries.splice(e,1)},close:function(e){r.endTime=e}};return this.entries.unshift(r),r},e.prototype.find=function(e){void 0===e&&(e=Ze);for(var n=0,t=this.entries;n<t.length;n++){var r=t[n];if(r.startTime<=e){if(e<=r.endTime)return r.context;break}}},e.prototype.closeActive=function(e){var n=this.entries[0];n&&n.endTime===Ze&&n.close(e)},e.prototype.findAll=function(e){return void 0===e&&(e=Ze),this.entries.filter(function(n){return n.startTime<=e&&e<=n.endTime}).map(function(e){return e.context})},e.prototype.reset=function(){this.entries=[]},e.prototype.stop=function(){clearInterval(this.clearOldContextsInterval)},e.prototype.clearOldContexts=function(){for(var e=K()-this.expireDelay;this.entries.length>0&&this.entries[this.entries.length-1].endTime<e;)this.entries.pop()},e}(),$e=9e5,Xe=/^([a-z]+)=([a-z0-9-]+)$/,Ye="_dd_s",Qe=[];function en(e,n){var t;if(void 0===n&&(n=0),Je||(Je=e),e===Je)if(n>=100)rn();else{var r,o=an();if(nn()){if(o.lock)return void tn(e,n);if(r=x(),o.lock=r,un(o,e.options),(o=an()).lock!==r)return void tn(e,n)}var i=e.process(o);if(nn()&&(o=an()).lock!==r)tn(e,n);else{if(i&&on(i,e.options),nn()&&(!i||!cn(i))){if((o=an()).lock!==r)return void tn(e,n);delete o.lock,un(o,e.options),i=o}null===(t=e.after)||void 0===t||t.call(e,i||o),rn()}}else Qe.push(e)}function nn(){return!!window.chrome||/HeadlessChrome/.test(window.navigator.userAgent)}function tn(e,n){setTimeout(w(function(){en(e,n+1)}),10)}function rn(){Je=void 0;var e=Qe.shift();e&&en(e)}function on(e,n){cn(e)?function(e){z(Ye,"",0,e)}(n):(e.expire=String(J()+$e),un(e,n))}function un(e,n){z(Ye,function(e){return(n=e,Object.keys(n).map(function(e){return[e,n[e]]})).map(function(e){var n=e[1];return"".concat(e[0],"=").concat(n)}).join("&");var n}(e),$e,n)}function an(){var e=G(Ye),n={};return function(e){return void 0!==e&&(-1!==e.indexOf("&")||Xe.test(e))}(e)&&e.split("&").forEach(function(e){var t=Xe.exec(e);null!==t&&(n[t[1]]=t[2])}),n}function cn(e){return B(e)}function ln(e,n,t,r,o){0===n.transportStatus&&0===n.queuedPayloads.size()&&n.bandwidthMonitor.canHandle(e)?dn(e,n,t,{onSuccess:function(){return fn(0,n,t,r,o)},onFailure:function(){n.queuedPayloads.enqueue(e),sn(n,t,r,o)}}):n.queuedPayloads.enqueue(e)}function sn(e,n,t,r){2===e.transportStatus&&setTimeout(w(function(){dn(e.queuedPayloads.first(),e,n,{onSuccess:function(){e.queuedPayloads.dequeue(),e.currentBackoffTime=1e3,fn(1,e,n,t,r)},onFailure:function(){e.currentBackoffTime=Math.min(6e4,2*e.currentBackoffTime),sn(e,n,t,r)}})}),e.currentBackoffTime)}function dn(e,n,t,r){var o=r.onSuccess,i=r.onFailure;n.bandwidthMonitor.add(e),t(e,function(t){n.bandwidthMonitor.remove(e),function(e){return"opaque"!==e.type&&(0===e.status&&!navigator.onLine||408===e.status||429===e.status||e.status>=500)}(t)?(n.transportStatus=n.bandwidthMonitor.ongoingRequestCount>0?1:2,e.retry={count:e.retry?e.retry.count+1:1,lastFailureStatus:t.status},i()):(n.transportStatus=0,o())})}function fn(e,n,t,r,o){0===e&&n.queuedPayloads.isFull()&&!n.queueFullReported&&(o({message:"Reached max ".concat(r," events size queued for upload: ").concat(3,"MiB"),source:ke,startClocks:$()}),n.queueFullReported=!0);var i=n.queuedPayloads;for(n.queuedPayloads=vn();i.size()>0;)ln(i.dequeue(),n,t,r,o)}function vn(){var e=[];return{bytesCount:0,enqueue:function(n){this.isFull()||(e.push(n),this.bytesCount+=n.bytesCount)},first:function(){return e[0]},dequeue:function(){var n=e.shift();return n&&(this.bytesCount-=n.bytesCount),n},size:function(){return e.length},isFull:function(){return this.bytesCount>=3145728}}}var pn=!1;function yn(e,n,t){var r=new XMLHttpRequest,o=w(function(){r.removeEventListener("loadend",o),null==t||t({status:r.status})});r.open("POST",e,!0),r.addEventListener("loadend",o),r.send(n)}var gn,mn=/[^\u0000-\u007F]/,hn=function(){function e(e,n,t,r,o,i){var u=this;this.request=e,this.batchMessagesLimit=n,this.batchBytesLimit=t,this.messageBytesLimit=r,this.flushTimeout=o,this.pageExitObservable=i,this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesCount=0,this.bufferMessagesCount=0,i.subscribe(function(){return u.flush(u.request.sendOnExit)}),this.flushPeriodically()}return e.prototype.add=function(e){this.addOrUpdate(e)},e.prototype.upsert=function(e,n){this.addOrUpdate(e,n)},e.prototype.flush=function(e){if(void 0===e&&(e=this.request.send),0!==this.bufferMessagesCount){var n=this.pushOnlyBuffer.concat(I(this.upsertBuffer)),t=this.bufferBytesCount;this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesCount=0,this.bufferMessagesCount=0,e({data:n.join("\n"),bytesCount:t})}},e.prototype.computeBytesCount=function(e){return mn.test(e)?void 0!==window.TextEncoder?(new TextEncoder).encode(e).length:new Blob([e]).size:e.length},e.prototype.addOrUpdate=function(e,n){var t=this.process(e),r=t.processedMessage,o=t.messageBytesCount;o>=this.messageBytesLimit?d.warn("Discarded a message whose size was bigger than the maximum allowed size ".concat(this.messageBytesLimit,"KB.")):(this.hasMessageFor(n)&&this.remove(n),this.willReachedBytesLimitWith(o)&&this.flush(),this.push(r,o,n),this.isFull()&&this.flush())},e.prototype.process=function(e){var n=A(e);return{processedMessage:n,messageBytesCount:this.computeBytesCount(n)}},e.prototype.push=function(e,n,t){this.bufferMessagesCount>0&&(this.bufferBytesCount+=1),void 0!==t?this.upsertBuffer[t]=e:this.pushOnlyBuffer.push(e),this.bufferBytesCount+=n,this.bufferMessagesCount+=1},e.prototype.remove=function(e){var n=this.upsertBuffer[e];delete this.upsertBuffer[e];var t=this.computeBytesCount(n);this.bufferBytesCount-=t,this.bufferMessagesCount-=1,this.bufferMessagesCount>0&&(this.bufferBytesCount-=1)},e.prototype.hasMessageFor=function(e){return void 0!==e&&void 0!==this.upsertBuffer[e]},e.prototype.willReachedBytesLimitWith=function(e){return this.bufferBytesCount+e+1>=this.batchBytesLimit},e.prototype.isFull=function(){return this.bufferMessagesCount===this.batchMessagesLimit||this.bufferBytesCount>=this.batchBytesLimit},e.prototype.flushPeriodically=function(){var e=this;setTimeout(w(function(){e.flush(),e.flushPeriodically()}),this.flushTimeout)},e}();function bn(){var e=N().DatadogEventBridge;if(e)return{getAllowedWebViewHosts:function(){return JSON.parse(e.getAllowedWebViewHosts())},send:function(n,t){e.send(JSON.stringify({eventType:n,event:t}))}}}function kn(e){var n;void 0===e&&(e=null===(n=N().location)||void 0===n?void 0:n.hostname);var t=bn();return!!t&&t.getAllowedWebViewHosts().some(function(n){return e===n||(t=e,r=".".concat(n),t.slice(-r.length)===r);var t,r})}function wn(e,n,t,r,o){var i,u=a(n);function a(n){return new hn(function(e,n,t){var r={transportStatus:0,currentBackoffTime:1e3,bandwidthMonitor:{ongoingRequestCount:0,ongoingByteCount:0,canHandle:function(e){return 0===this.ongoingRequestCount||this.ongoingByteCount+e.bytesCount<=81920&&this.ongoingRequestCount<32},add:function(e){this.ongoingRequestCount+=1,this.ongoingByteCount+=e.bytesCount},remove:function(e){this.ongoingRequestCount-=1,this.ongoingByteCount-=e.bytesCount}},queuedPayloads:vn(),queueFullReported:!1},o=function(t,r){return function(e,n,t,r){var o=t.data,i=t.bytesCount,u=t.retry;if(function(){try{return window.Request&&"keepalive"in new Request("http://a")}catch(e){return!1}}()&&i<n){var a=e.build("fetch",u);fetch(a,{method:"POST",body:o,keepalive:!0,mode:"cors"}).then(w(function(e){return null==r?void 0:r({status:e.status,type:e.type})}),w(function(){yn(e.build("xhr",u),o,r)}))}else yn(e.build("xhr",u),o,r)}(e,n,t,r)};return{send:function(n){ln(n,r,o,e.endpointType,t)},sendOnExit:function(t){!function(e,n,t){var r=t.data;if(navigator.sendBeacon&&t.bytesCount<n)try{var o=e.build("beacon");if(navigator.sendBeacon(o,r))return}catch(e){!function(e){pn||(pn=!0,Ue(e))}(e)}yn(e.build("xhr"),r)}(e,n,t)}}}(n,e.batchBytesLimit,t),e.batchMessagesLimit,e.batchBytesLimit,e.messageBytesLimit,e.flushTimeout,r)}return o&&(i=a(o)),{add:function(e,n){void 0===n&&(n=!0),u.add(e),i&&n&&i.add(e)}}}var Cn,_n=new WeakMap;function Sn(){var e;return gn||(e=new Le(function(){var n=he(XMLHttpRequest.prototype,"open",{before:En}).stop,t=he(XMLHttpRequest.prototype,"send",{before:function(){xn.call(this,e)}}).stop,r=he(XMLHttpRequest.prototype,"abort",{before:On}).stop;return function(){n(),t(),r()}}),gn=e),gn}function En(e,n){_n.set(this,{state:"open",method:e,url:Y(String(n))})}function xn(e){var n=this,t=_n.get(this);if(t){var r=t;r.state="start",r.startTime=K(),r.startClocks=$(),r.isAborted=!1,r.xhr=this;var o=!1,i=he(this,"onreadystatechange",{before:function(){this.readyState===XMLHttpRequest.DONE&&u()}}).stop,u=w(function(){if(n.removeEventListener("loadend",u),i(),!o){o=!0;var a,c=t;c.state="complete",c.duration=(a=r.startClocks.timeStamp,Z()-a),c.status=n.status,e.notify(E({},c))}});this.addEventListener("loadend",u),e.notify(r)}}function On(){var e=_n.get(this);e&&(e.isAborted=!0)}function Tn(e,n,t){var r=t&&t.method||"object"==typeof n&&n.method||"GET",o=Y("object"==typeof n&&n.url||n),i={state:"start",init:t,input:n,method:r,startClocks:$(),url:o};return e.notify(i),i}function An(e,n,t){var r=function(n){var r=t;r.state="resolve","stack"in n||n instanceof Error?(r.status=0,r.isAborted=n instanceof DOMException&&n.code===DOMException.ABORT_ERR,r.error=n):"status"in n&&(r.response=n,r.responseType=n.type,r.status=n.status,r.isAborted=!1),e.notify(r)};n.then(w(r),w(r))}var Ln={};function Rn(e,n,t){var r,o=e.map(function(e){return function(e){return"string"==typeof e?e:e instanceof Error?Oe(ae(e)):A(e,void 0,2)}(e)}).join(" ");if(n===s.error){var i=function(e,n){for(var t=0;t<e.length;t+=1){var r=e[t];if(r instanceof Error)return r}}(e);r=i?xe(ae(i)):void 0,o="console error: ".concat(o)}return{api:n,message:o,stack:r,handlingStack:t}}var Pn=function(){function e(){this.buffer=[]}return e.prototype.add=function(e){this.buffer.push(e)>500&&this.buffer.splice(0,1)},e.prototype.drain=function(){this.buffer.forEach(function(e){return e()}),this.buffer.length=0},e}();function Mn(){var e={};return{get:function(){return e},add:function(n,t){e[n]=t},remove:function(n){delete e[n]},set:function(n){e=n},getContext:function(){return j(e)},setContext:function(n){e=j(n)},setContextProperty:function(n,t){e[n]=j(t)},removeContextProperty:function(n){delete e[n]},clearContext:function(){e={}}}}function In(){return Boolean(window._DATADOG_SYNTHETICS_INJECTS_RUM||G("datadog-synthetics-injects-rum"))}function Bn(){var e=window._DATADOG_SYNTHETICS_RESULT_ID||G("datadog-synthetics-result-id");return"string"==typeof e?e:void 0}function Dn(e){var n=E({},e);return["id","name","email"].forEach(function(e){e in n&&(n[e]=String(n[e]))}),n}function Nn(e,n,t){return void 0===e?[]:"all"===e||Array.isArray(e)&&e.every(function(e){return R(n,e)})?"all"===e?n:(r=e,o=new Set,r.forEach(function(e){return o.add(e)}),P(o)):void d.error("".concat(t,' should be "all" or an array with allowed values "').concat(n.join('", "'),'"'));var r,o}var Fn,Un={debug:"debug",error:"error",info:"info",warn:"warn"},qn="http",jn=Object.keys(Un),Vn=function(){function e(e,n,t,r,o){void 0===t&&(t=qn),void 0===r&&(r=Un.debug),void 0===o&&(o={}),this.handleLogStrategy=e,this.handlerType=t,this.level=r,this.contextManager=Mn(),this.contextManager.set(E({},o,n?{logger:{name:n}}:void 0))}return e.prototype.log=function(e,n,t){void 0===t&&(t=Un.info),this.handleLogStrategy({message:e,context:j(n),status:t},this)},e.prototype.debug=function(e,n){this.log(e,n,Un.debug)},e.prototype.info=function(e,n){this.log(e,n,Un.info)},e.prototype.warn=function(e,n){this.log(e,n,Un.warn)},e.prototype.error=function(e,n){this.log(e,V({error:{origin:Ce}},n),Un.error)},e.prototype.setContext=function(e){this.contextManager.set(e)},e.prototype.getContext=function(){return this.contextManager.get()},e.prototype.addContext=function(e,n){this.contextManager.add(e,n)},e.prototype.removeContext=function(e){this.contextManager.remove(e)},e.prototype.setHandler=function(e){this.handlerType=e},e.prototype.getHandler=function(){return this.handlerType},e.prototype.setLevel=function(e){this.level=e},e.prototype.getLevel=function(){return this.level},function(e,n,t,r){var o,i=arguments.length,u=i<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,n,t,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(u=(i<3?o(u):i>3?o(n,t,u):o(n,t))||u);i>3&&u&&Object.defineProperty(n,t,u)}([k],e.prototype,"log",null),e}();function zn(e){return O(e.sessionSampleRate)?"1":"0"}var Gn=((Fn={})[Un.debug]=0,Fn[Un.info]=1,Fn[Un.warn]=2,Fn[Un.error]=3,Fn);function Hn(e,n,t){var r=t.getHandler(),o=Array.isArray(r)?r:[r];return Gn[e]>=Gn[t.getLevel()]&&R(o,n)}var Wn,Jn=!1;function Zn(e){var n,t=window;if(In()){var r=o(t.DD_RUM_SYNTHETICS);return r||Jn||(Jn=!0,Fe("Logs sent before RUM is injected by the synthetics worker",{testId:(n=window._DATADOG_SYNTHETICS_PUBLIC_ID||G("datadog-synthetics-public-id"),"string"==typeof n?n:void 0),resultId:Bn()})),r}return o(t.DD_RUM);function o(n){if(n&&n.getInternalContext)return n.getInternalContext(e)}}var Kn,$n=((Wn={})[s.log]=Un.info,Wn[s.debug]=Un.debug,Wn[s.info]=Un.info,Wn[s.warn]=Un.warn,Wn[s.error]=Un.error,Wn),Xn=((Kn={})[He.cspViolation]=Un.error,Kn[He.intervention]=Un.error,Kn[He.deprecation]=Un.warn,Kn);function Yn(e,n){return e.length>n.requestErrorResponseLengthLimit?"".concat(e.substring(0,n.requestErrorResponseLengthLimit),"..."):e}function Qn(e){return"xhr"===e?"XHR":"Fetch"}var et,nt,tt=function(){function e(){this.callbacks={}}return e.prototype.notify=function(e,n){var t=this.callbacks[e];t&&t.forEach(function(e){return e(n)})},e.prototype.subscribe=function(e,n){var t=this;return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),{unsubscribe:function(){t.callbacks[e]=t.callbacks[e].filter(function(e){return n!==e})}}},e}(),rt=function(e){var n,t,r=!1,o=Mn(),i=Mn(),u={},a=function(){},c=new Pn,l=function(e,n,t,r){void 0===t&&(t=j(g())),void 0===r&&(r=Z()),c.add(function(){return l(e,n,t,r)})},v=function(){},y=new Vn(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return l.apply(void 0,e)});function g(){return{view:{referrer:document.referrer,url:window.location.href},context:o.getContext(),user:i.getContext()}}return n={logger:y,init:w(function(e){var n;if(kn()&&(e=function(e){return E({},e,{clientToken:"empty"})}(e)),function(e){return!r||(e.silentMultipleInit||d.error("DD_LOGS is already initialized."),!1)}(e)){var t=function(e){var n=function(e){var n,t,r;if(e&&e.clientToken){var o=null!==(n=e.sessionSampleRate)&&void 0!==n?n:e.sampleRate;if(void 0===o||M(o))if(void 0===e.telemetrySampleRate||M(e.telemetrySampleRate)){var i;if(void 0===e.telemetryConfigurationSampleRate||M(e.telemetryConfigurationSampleRate))return i=e.enableExperimentalFeatures,Array.isArray(i)&&(p||(p=new Set(i)),i.filter(function(e){return"string"==typeof e}).forEach(function(e){R(e,"-")&&d.warn("please use snake case for '".concat(e,"'")),p.add(e)})),E({beforeSend:e.beforeSend&&W(e.beforeSend,"beforeSend threw an error:"),cookieOptions:ie(e),sessionSampleRate:null!=o?o:100,telemetrySampleRate:null!==(t=e.telemetrySampleRate)&&void 0!==t?t:20,telemetryConfigurationSampleRate:null!==(r=e.telemetryConfigurationSampleRate)&&void 0!==r?r:5,service:e.service,silentMultipleInit:!!e.silentMultipleInit,batchBytesLimit:16384,eventRateLimiterThreshold:3e3,maxTelemetryEventsPerPage:15,flushTimeout:3e4,batchMessagesLimit:50,messageBytesLimit:262144},function(e){var n=function(e){var n=e.env,t=e.service,r=e.version,o=e.datacenter,i=[];return n&&i.push(oe("env",n)),t&&i.push(oe("service",t)),r&&i.push(oe("version",r)),o&&i.push(oe("datacenter",o)),i}(e),t=function(e,n){return{logsEndpointBuilder:te(e,"logs",n),rumEndpointBuilder:te(e,"rum",n),sessionReplayEndpointBuilder:te(e,"sessionReplay",n)}}(e,n),r=I(t).map(function(e){return e.buildIntakeUrl()}),o=function(e,n,t){if(e.replica){var r=E({},e,{site:Q,clientToken:e.replica.clientToken}),o={logsEndpointBuilder:te(r,"logs",t),rumEndpointBuilder:te(r,"rum",t)};return n.push.apply(n,I(o).map(function(e){return e.buildIntakeUrl()})),E({applicationId:e.replica.applicationId},o)}}(e,r,n);return E({isIntakeUrl:function(e){return r.some(function(n){return 0===e.indexOf(n)})},replica:o,site:e.site||Q},t)}(e));d.error("Telemetry Configuration Sample Rate should be a number between 0 and 100")}else d.error("Telemetry Sample Rate should be a number between 0 and 100");else d.error("Session Sample Rate should be a number between 0 and 100")}else d.error("Client Token is not configured, we will not send any data.")}(e),t=Nn(e.forwardConsoleLogs,I(s),"Forward Console Logs"),r=Nn(e.forwardReports,I(He),"Forward Reports");if(n&&t&&r)return e.forwardErrorsToLogs&&!R(t,s.error)&&t.push(s.error),E({forwardErrorsToLogs:!1!==e.forwardErrorsToLogs,forwardConsoleLogs:t,forwardReports:r,requestErrorResponseLengthLimit:32768},n)}(e);t&&(n=function(e,n,t,r){var o=new tt;o.subscribe(1,function(e){return Me("logs",e)});var i,u=function(e){return o.notify(0,{rawLogsEvent:{message:e.message,date:e.startClocks.timeStamp,error:{origin:ke},origin:ke,status:Un.error}})},a=i=new Le(function(){var e=Ve(document,"visibilitychange",function(){"hidden"===document.visibilityState&&i.notify({reason:"visibility_hidden"})},{capture:!0}).stop,n=Ve(window,"beforeunload",function(){i.notify({reason:"before_unload"})}).stop;return function(){e(),n()}}),c=function(e,n,t){var r,o=function(e,n){var t,r=new Le;return Ne.telemetryEnabled=O(n.telemetrySampleRate),Ne.telemetryConfigurationEnabled=Ne.telemetryEnabled&&O(n.telemetryConfigurationSampleRate),Ie=function(e){if(!R(De,n.site)&&Ne.telemetryEnabled){var o=(i=e,V({type:"telemetry",date:Z(),service:"browser-logs-sdk",version:"4.30.0",source:"browser",_dd:{format_version:2},telemetry:i,experimental_features:P(p||new Set)},void 0!==t?t():{}));r.notify(o),Me("telemetry",o)}var i},f=Ue,E(Ne,{maxEventsPerPage:n.maxTelemetryEventsPerPage,sentEventCount:0}),{setContextProvider:function(e){t=e},observable:r}}(0,e);if(kn()){var i=bn();o.observable.subscribe(function(e){return i.send("internal_telemetry",e)})}else{var u=wn(e,e.rumEndpointBuilder,n,t,null===(r=e.replica)||void 0===r?void 0:r.rumEndpointBuilder);o.observable.subscribe(function(n){return u.add(n,function(e){return"datad0g.com"===e.site}(e))})}return o}(n,u,a);c.setContextProvider(function(){var e,n,t,r,o,i;return{application:{id:null===(e=Zn())||void 0===e?void 0:e.application_id},session:{id:null===(n=y.findTrackedSession())||void 0===n?void 0:n.id},view:{id:null===(r=null===(t=Zn())||void 0===t?void 0:t.view)||void 0===r?void 0:r.id},action:{id:null===(i=null===(o=Zn())||void 0===o?void 0:o.user_action)||void 0===i?void 0:i.id}}}),function(e,n){if(!e.forwardErrorsToLogs)return{stop:T};var t;function r(t,r){function o(e){n.notify(0,{rawLogsEvent:{message:"".concat(Qn(t)," error ").concat(r.method," ").concat(r.url),date:r.startClocks.timeStamp,error:{origin:_e,stack:e||"Failed to load"},http:{method:r.method,status_code:r.status,url:r.url},status:Un.error,origin:_e}})}e.isIntakeUrl(r.url)||!function(e){return 0===e.status&&"opaque"!==e.responseType}(r)&&!function(e){return e.status>=500}(r)||("xhr"in r?function(e,n,t){t("string"==typeof e.response?Yn(e.response,n):e.response)}(r.xhr,e,o):r.response?function(e,n,t){window.TextDecoder?e.body?function(e,n,t){!function(e,n,t){var r=e.getReader(),o=[],i=0;function u(){var e,u;if(r.cancel().catch(T),t.collectStreamBody){var a;if(1===o.length)a=o[0];else{a=new Uint8Array(i);var c=0;o.forEach(function(e){a.set(e,c),c+=e.length})}e=a.slice(0,t.bytesLimit),u=a.length>t.bytesLimit}n(void 0,e,u)}!function e(){r.read().then(w(function(n){n.done?u():(t.collectStreamBody&&o.push(n.value),(i+=n.value.length)>t.bytesLimit?u():e())}),w(function(e){return n(e)}))}()}(e,function(e,n,r){if(e)t(e);else{var o=(new TextDecoder).decode(n);r&&(o+="..."),t(void 0,o)}},{bytesLimit:n,collectStreamBody:!0})}(e.clone().body,n.requestErrorResponseLengthLimit,function(e,n){t(e?"Unable to retrieve response: ".concat(e):n)}):t():e.clone().text().then(w(function(e){return t(Yn(e,n))}),w(function(e){return t("Unable to retrieve response: ".concat(e))}))}(r.response,e,o):r.error&&function(e,n,t){t(Yn(xe(ae(e)),n))}(r.error,e,o))}Sn().subscribe(function(e){"complete"===e.state&&r("xhr",e)}),(Cn||(t=new Le(function(){if(window.fetch)return me(window,"fetch",function(e){return function(n,r){var o,i=C(Tn,null,[t,n,r]);return i?(o=e.call(this,i.input,i.init),C(An,null,[t,o,i])):o=e.call(this,n,r),o}}).stop}),Cn=t),Cn).subscribe(function(e){"resolve"===e.state&&r("fetch",e)})}(n,o),function(e,n){if(!e.forwardErrorsToLogs)return{stop:T};var t,r,o=new Le;t=o,r=function(e,n){t.notify(function(e){var n=e.stackTrace,t=e.originalError,r=e.handlingStack,o=e.startClocks,i=e.nonErrorPrefix,u=e.source,a=e.handling;return n&&(void 0!==n.message||t instanceof Error)?{startClocks:o,source:u,handling:a,originalError:t,message:n.message||"Empty message",stack:xe(n),handlingStack:r,type:n.name,causes:Ae(t,u)}:{startClocks:o,source:u,handling:a,originalError:t,message:"".concat(i," ").concat(A(t)),stack:"No stack, consider using an instance of Error",handlingStack:r,type:n&&n.name}}({stackTrace:e,originalError:n,startClocks:$(),nonErrorPrefix:"Uncaught",source:Se,handling:"unhandled"}))},function(e){he(window,"onerror",{before:function(n,t,r,o,i){var u;if(i)u=ae(i),e(u,i);else{var a,c={url:t,column:o,line:r},l=n;if("[object String]"==={}.toString.call(n)){var s=be.exec(l);s&&(a=s[1],l=s[2])}e(u={name:a,message:"string"==typeof l?l:void 0,stack:[c]},n)}}})}(r),function(e){he(window,"onunhandledrejection",{before:function(n){var t=n.reason||"Empty reason",r=ae(t);e(r,t)}})}(r),o.subscribe(function(e){n.notify(0,{rawLogsEvent:{message:e.message,date:e.startClocks.timeStamp,error:{kind:e.type,origin:Se,stack:e.stack},origin:Se,status:Un.error}})})}(n,o),function(e,n){var t,r;(t=e.forwardConsoleLogs,r=t.map(function(e){return Ln[e]||(Ln[e]=function(e){var n=new Le(function(){var t=console[e];return console[e]=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];t.apply(console,r);var i=Te();C(function(){n.notify(Rn(r,e,i))})},function(){console[e]=t}});return n}(e)),Ln[e]}),Re.apply(void 0,r)).subscribe(function(e){n.notify(0,{rawLogsEvent:{date:Z(),message:e.message,origin:we,error:e.api===s.error?{origin:we,stack:e.stack}:void 0,status:$n[e.api]}})})}(n,o),function(e,n){(function(e){var n,t=[];R(e,He.cspViolation)&&t.push(n=new Le(function(){var e=w(function(e){n.notify(function(e){var n=He.cspViolation,t="'".concat(e.blockedURI,"' blocked by '").concat(e.effectiveDirective,"' directive");return{type:He.cspViolation,subtype:e.effectiveDirective,message:"".concat(n,": ").concat(t),stack:We(e.effectiveDirective,e.originalPolicy?"".concat(t,' of the policy "').concat(F(e.originalPolicy,100,"..."),'"'):"no policy",e.sourceFile,e.lineNumber,e.columnNumber)}}(e))});return Ve(document,"securitypolicyviolation",e).stop}));var r=e.filter(function(e){return e!==He.cspViolation});return r.length&&t.push(function(e){var n=new Le(function(){if(window.ReportingObserver){var t=w(function(e){return e.forEach(function(e){n.notify(function(e){var n=e.type,t=e.body;return{type:n,subtype:t.id,message:"".concat(n,": ").concat(t.message),stack:We(t.id,t.message,t.sourceFile,t.lineNumber,t.columnNumber)}}(e))})}),r=new window.ReportingObserver(t,{types:e,buffered:!0});return r.observe(),function(){r.disconnect()}}});return n}(r)),Re.apply(void 0,t)})(e.forwardReports).subscribe(function(e){var t,r=e.message,o=Xn[e.type];o===Un.error?t={kind:e.subtype,origin:Ee,stack:e.stack}:e.stack&&(r+=" Found in ".concat(function(e){var n;return null===(n=/@ (.+)/.exec(e))||void 0===n?void 0:n[1]}(e.stack))),n.notify(0,{rawLogsEvent:{date:Z(),message:r,origin:Ee,error:t,status:o}})})}(n,o);var l,v=function(e){return{handleLog:function(n,t,r,o){var i=n.context;Hn(n.status,"console",t)&&d(n.status,n.message,V(t.getContext(),i)),e.notify(0,{rawLogsEvent:{date:o||Z(),message:n.message,status:n.status,origin:Ce},messageContext:i,savedCommonContext:r,logger:t})}}}(o).handleLog,y=!function(e){if(void 0===document.cookie||null===document.cookie)return!1;try{var n="dd_cookie_test_".concat(x()),t="test";z(n,t,6e4,e);var r=G(n)===t;return H(n,e),r}catch(e){return d.error(e),!1}}(n.cookieOptions)||kn()||In()?function(e){var n="1"===zn(e)?{}:void 0;return{findTrackedSession:function(){return n}}}(n):function(e){var n=function(n,t,r){!function(e){var n=G(Ye),t=G("_dd"),r=G("_dd_r"),o=G("_dd_l");if(!n){var i={};t&&(i.id=t),o&&/^[01]$/.test(o)&&(i.logs=o),r&&/^[012]$/.test(r)&&(i.rum=r),on(i,e)}}(n);var o,i,u=function(n,t,r){var o,i=new Le,u=new Le,a=setInterval(w(function(){en({options:n,process:function(e){return d(e)?void 0:{}},after:l})}),1e3),c=d(o=an())?o:{};function l(e){return d(e)||(e={}),s()&&(function(e){return c.id!==e.id||c[t]!==e[t]}(e)?(c={},u.notify()):c=e),e}function s(){return void 0!==c[t]}function d(e){return(void 0===e.created||J()-Number(e.created)<144e5)&&(void 0===e.expire||J()<Number(e.expire))}return{expandOrRenewSession:S(w(function(){var r;en({options:n,process:function(n){var o=l(n);return r=function(n){var r=function(e,n){var t=function(e){return"0"===e||"1"===e}(n)?n:zn(e);return{trackingType:t,isTracked:"1"===t}}(e,n[t]),o=r.isTracked;return n[t]=r.trackingType,o&&!n.id&&(n.id=x(),n.created=String(J())),o}(o),o},after:function(e){r&&!s()&&function(e){c=e,i.notify()}(e),c=e}})}),1e3).throttled,expandSession:function(){en({options:n,process:function(e){return s()?l(e):void 0}})},getSession:function(){return c},renewObservable:i,expireObservable:u,stop:function(){clearInterval(a)}}}(n,t),a=new Ke(144e5);function c(){return{id:u.getSession().id,trackingType:u.getSession()[t]}}return u.renewObservable.subscribe(function(){a.add(c(),K())}),u.expireObservable.subscribe(function(){a.closeActive(K())}),u.expandOrRenewSession(),a.add(c(),[0,X()][0]),ze(window,["click","touchstart","keydown","scroll"],function(){return u.expandOrRenewSession()},{capture:!0,passive:!0}),o=function(){return u.expandSession()},i=w(function(){"visible"===document.visibilityState&&o()}),Ve(document,"visibilitychange",i),setInterval(i,6e4),{findActiveSession:function(e){return a.find(e)},renewObservable:u.renewObservable,expireObservable:u.expireObservable}}(e.cookieOptions,"logs");return{findTrackedSession:function(e){var t=n.findActiveSession(e);return t&&"1"===t.trackingType?{id:t.id}:void 0}}}(n);return function(e,n,t,r,o,i){var u=jn.concat(["custom"]),a={};u.forEach(function(e){var t,r,o,u,c;a[e]=(t=e,r=n.eventRateLimiterThreshold,o=i,u=0,c=!1,{isLimitReached:function(){if(0===u&&setTimeout(function(){u=0},6e4),(u+=1)<=r||c)return c=!1,!1;if(u===r+1){c=!0;try{o({message:"Reached max number of ".concat(t,"s by minute: ").concat(r),source:ke,startClocks:$()})}finally{c=!1}}return!0}})}),t.subscribe(0,function(i){var u,c,l,s=i.rawLogsEvent,d=i.messageContext,f=void 0===d?void 0:d,v=i.savedCommonContext,p=void 0===v?void 0:v,y=i.logger,g=void 0===y?o:y,m=s.date-X(),h=e.findTrackedSession(m);if(h){var b=p||r(),k=V({service:n.service,session_id:h.id,usr:B(b.user)?void 0:b.user,view:b.view},b.context,Zn(m),s,g.getContext(),f);!Hn(s.status,qn,g)||!1===(null===(u=n.beforeSend)||void 0===u?void 0:u.call(n,k))||(null===(c=k.error)||void 0===c?void 0:c.origin)!==ke&&(null!==(l=a[k.status])&&void 0!==l?l:a.custom).isLimitReached()||t.notify(1,k)}})}(y,n,o,t,r,u),kn()?function(e){var n=bn();e.subscribe(1,function(e){n.send("log",e)})}(o):function(e,n,t,r){var o,i=wn(e,e.logsEndpointBuilder,t,r,null===(o=e.replica)||void 0===o?void 0:o.logsEndpointBuilder);n.subscribe(1,function(e){i.add(e)})}(n,o,u,a),function(e){Ne.telemetryConfigurationEnabled&&qe({type:"configuration",configuration:e})}(function(e){var n=function(e){var n;return{session_sample_rate:null!==(n=e.sessionSampleRate)&&void 0!==n?n:e.sampleRate,telemetry_sample_rate:e.telemetrySampleRate,telemetry_configuration_sample_rate:e.telemetryConfigurationSampleRate,use_before_send:!!e.beforeSend,use_cross_site_session_cookie:e.useCrossSiteSessionCookie,use_secure_session_cookie:e.useSecureSessionCookie,use_proxy:void 0!==e.proxyUrl?!!e.proxyUrl:void 0,silent_multiple_init:e.silentMultipleInit,track_session_across_subdomains:e.trackSessionAcrossSubdomains,track_resources:e.trackResources,track_long_task:e.trackLongTasks}}(e);return E({forward_errors_to_logs:e.forwardErrorsToLogs,forward_console_logs:e.forwardConsoleLogs,forward_reports:e.forwardReports},n)}(e)),{handleLog:v,getInternalContext:(l=y,{get:function(e){var n=l.findTrackedSession(e);if(n)return{session_id:n.id}}}).get}}(e,t,g,y),l=n.handleLog,a=n.getInternalContext,v=function(){return j(e)},c.drain(),r=!0)}}),getLoggerGlobalContext:w(o.get),getGlobalContext:w(o.getContext),setLoggerGlobalContext:w(o.set),setGlobalContext:w(o.setContext),addLoggerGlobalContext:w(o.add),setGlobalContextProperty:w(o.setContextProperty),removeLoggerGlobalContext:w(o.remove),removeGlobalContextProperty:w(o.removeContextProperty),clearGlobalContext:w(o.clearContext),createLogger:w(function(e,n){return void 0===n&&(n={}),u[e]=new Vn(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return l.apply(void 0,e)},e,n.handler,n.level,n.context),u[e]}),getLogger:w(function(e){return u[e]}),getInitConfiguration:w(function(){return v()}),getInternalContext:w(function(e){return a(e)}),setUser:w(function(e){(function(e){var n="object"===U(e);return n||d.error("Unsupported user:",e),n})(e)&&i.setContext(Dn(e))}),getUser:w(i.getContext),setUserProperty:w(function(e,n){var t,r=Dn((t={},t[e]=n,t))[e];i.setContextProperty(e,r)}),removeUserProperty:w(i.removeContextProperty),clearUser:w(i.clearContext)},t=E({version:"4.30.0",onReady:function(e){e()}},n),Object.defineProperty(t,"_setDebug",{get:function(){return b},enumerable:!1}),t}();nt=(et=N()).DD_LOGS,et.DD_LOGS=rt,nt&&nt.q&&nt.q.forEach(function(e){return W(e,"onReady callback threw an error:")()});var ot=/*#__PURE__*/function(){function e(e,n){rt.init({clientToken:n.clientToken,site:"datadoghq.com",forwardErrorsToLogs:!1,sampleRate:100,version:"ga4",service:"analytics-sdk",env:n.environment,useCrossSiteSessionCookie:!0,trackSessionAcrossSubdomains:!0,useSecureSessionCookie:!0,silentMultipleInit:!0}),rt.setLoggerGlobalContext({country:e})}return e.prototype.logError=function(e,n){rt.logger.error(e,n)},e}(),it="1.24.0",ut={event:i,category:"book an appointment spa"},at=["bookanappointment.page_view","bookanappointment.next","bookanappointment.back","bookanappointment.create-appointment","bookanappointment.reserveproduct","bookanappointment.change-store"],ct="www.gucci.com"===window.location.hostname?{clientToken:"pub06c9294a47138de514fbc6e73bba7b13",environment:"prod"}:{clientToken:"pub06c9294a47138de514fbc6e73bba7b13",environment:"qa"};function lt(e){var n={};if(!e)return n;var t=e.split("/");return 1===t.length&&""===t[0]?n:n=r({item_category:t[0]},t[1]&&{item_category2:t[1]},t[2]&&{item_category3:t[2]},t[3]&&{item_category4:t[3]},t[4]&&{item_category5:t[4]})}function st(e){var n=window.localStorage.getItem("ga_cartItems");if(n)return JSON.parse(n).map(e)}function dt(e){var n=window.localStorage.getItem("ga_linkData");if(n){var t=JSON.parse(n);return"UNKNOWN"!==(t[e]?t[e].listName:"UNKNOWN")?t[e].listPage:""}}function ft(e,n){var t,o,i=void 0===e.brand?{item_brand:"unknown"}:{item_brand:e.brand},u=n.exchangeRate,a=e.price?u.convert(parseFloat(e.price)).toFixed(2):"",c=u.getCurrency();return r({item_id:e.id,item_name:e.name},i,{currency:c,index:e.position},lt(e.category),{item_list_id:null!=(t=dt(e.id))?t:"",item_list_name:e.list,item_variant:e.variant,price:a,local_price:null!=(o=e.price)?o:"",quantity:e.quantity})}function vt(e,n){var t,o,i,u,a=void 0===e.item_brand?{item_brand:"unknown"}:{item_brand:e.item_brand},c=n.exchangeRate,l=e.price?c.convert(parseFloat(e.price)).toFixed(2):"",s=c.getCurrency();return r({item_id:e.item_id,item_name:e.item_name},a,{currency:s,index:e.index},lt(null!=(t=e.category)?t:function(e){if(!e)return"";if(!e.includes("/pr/"))return e;var n="";try{for(var t=e.substring(e.indexOf("/pr/")+3,e.length),r=t.substring(0,t.indexOf("-p-")),o=r.substring(0,r.lastIndexOf("/")),i=1;i<o.length;i++)RegExp("-|/").test(o[i-1])&&!RegExp("[0-9]").test(o[i])?n+=o[i].toUpperCase():n+=o[i]}catch(e){console.error("analyticsSdk: error parsing url to retrieve product category")}return n}(e.item_category)),{item_list_id:null!=(o=dt(e.item_id))?o:"",item_list_name:null!=(i=e.item_list_name)?i:e.item_list,item_variant:e.item_variant,price:l,local_price:null!=(u=e.price)?u:"",quantity:e.quantity})}var pt=["ecommerce","checkout","shopping bag","flyout bag",""],yt=["cart page","cart","flyout","cart overlay","back_to_search","enter_manually",""];function gt(e){return pt.includes(e)}function mt(e){return yt.includes(e)}var ht="lastPlacedOrderNumber",bt=function(){return window.sessionStorage.getItem(ht)},kt={MAX_LENGTH:20,JP_KR_LENGTH:10,COUNTRIES:["jp","kr"]},wt={event:i};function Ct(e){var n,t,o,i;return r({},wt,{category:null==e||null==(n=e.event)?void 0:n.category,label:null==e||null==(t=e.event)?void 0:t.label,urlDestination:null==e||null==(o=e.event)?void 0:o.urlDestination,ctaLabel:null==e||null==(i=e.event)?void 0:i.ctaLabel})}var _t=/*#__PURE__*/function(){function e(e){this.rate=void 0,this.rate=e}var n=e.prototype;return n.convert=function(e){return e/this.rate},n.getCurrency=function(){return"EUR"},e}(),St=new(/*#__PURE__*/function(){function e(){}return e.prototype.byCountry=function(e){var n;return null!=(n={ae:new _t(4.1),au:new _t(1.61),ca:new _t(1.46),ch:new _t(1),cz:new _t(23.94),dk:new _t(7.45),hk:new _t(8.72),hu:new _t(384),jp:new _t(148.5),kr:new _t(1408.52),mx:new _t(19.63),no:new _t(11.16),nz:new _t(1.77),sa:new _t(4.19),se:new _t(11.3),sg:new _t(1.47),th:new _t(37.44),tr:new _t(30.69),uk:new _t(.88),us:new _t(1.12),za:new _t(20.56)}[e])?n:Et},e}()),Et=new _t(1),xt=["funhouseFooter.displayFooter","funhouseNewsletter.submit","funhouseStoreLocator.submit","funhouseFooterIcon.clickGucciEquilibrium","funhouseFooterIcon.clickGucciGarden","funhouseFooterIcon.clickGucciOsteria","funhouseFooterIcon.clickAppleAppStore","funhouseFooterIcon.clickGooglePlay","funhouseFooterIcon.clickGucciApp","funhouseFooterLink.click","funhouseLanguageSelector.click","funhouseCountrySelector.click","funhouseGeolocationModal.open","funhouseGeolocationModal.changeCountry"],Ot={ae:"AED",au:"AUD",ca:"CAD",ch:"CHF",cz:"CZK",dk:"DKK",hk:"HKD",hu:"HUF",jp:"JPY",kr:"KRW",mx:"MXN",no:"NOK",nz:"NZD",sa:"SAR",se:"SEK",sg:"SGD",th:"THB",tr:"TRY",uk:"GBP",us:"USD",za:"ZAR"};function Tt(e){var n;return null!=(n=Ot[e])?n:"EUR"}var At=["funhouseMiniCart.clickOnShoppingBag","funhouseMiniCart.proceedToCheckout","funhouseMiniCart.closeCart","funhouseMyAccount.openFlyout","funhouseMyAccount.flyoutItemClick","funhouseLogo.click","funhouseSearch.click","funhouseContactUs.click"],Lt=["funhouseMiniCart.emptyCart","funhouseMiniCart.notEmptyCart"],Rt={event:i};function Pt(e){var n,t;return r({},Rt,{category:null==e||null==(n=e.event)?void 0:n.category,label:null==e||null==(t=e.event)?void 0:t.label})}function Mt(e){var n,t,o;return r({},Pt(e),{urlDestination:null==e||null==(n=e.event)?void 0:n.urlDestination,ctaLabel:null==e||null==(t=e.event)?void 0:t.ctaLabel,indexCarousel:(null==e||null==(o=e.event)?void 0:o.indexCarousel)||0})}function It(e){var n;return r({},Pt(e),{listOfLabels:null==e||null==(n=e.event)?void 0:n.listOfLabels})}var Bt=["emailSubscription.subscribe","emailSubscription.opt","myAccount.signIn","myAccount.signinErrors","myAccount.saveSettings","myAccount.saveSettingsError","myAccount.deleteAccount","myAccount.deleteAccountError","myAccount.createAccount","myAccount.createAccountErrors","myAccount.orderConfirmation","myAccount.checkout.skipLogin","myAccount.changeEmailFlowCreateAccount","myAccount.changeEmailAtValidation","gaTech","access.impression","access.click","returnFlow.delivery","returnFlow.collectInStore","returnFlow.vpv","orderHistory.ordersPage"],Dt={event:i};function Nt(e){var n,t,o,i;return r({},Dt,{category:null==e||null==(n=e.event)?void 0:n.category,label:null==e||null==(t=e.event)?void 0:t.label},null!=(null==e||null==(o=e.event)?void 0:o.totalCarousel)&&{totalCarousel:null==e||null==(i=e.event)?void 0:i.totalCarousel})}function Ft(e){var n,t,o,i,u;return r({},Nt(e),{urlDestination:null==e||null==(n=e.event)?void 0:n.urlDestination},null!=(null==e||null==(t=e.event)?void 0:t.ctaLabel)&&{ctaLabel:null==e||null==(o=e.event)?void 0:o.ctaLabel},null!=(null==e||null==(i=e.event)?void 0:i.indexCarousel)&&{indexCarousel:null==e||null==(u=e.event)?void 0:u.indexCarousel})}function Ut(e){var n,t;return r({},null!=(null==e||null==(n=e.event)?void 0:n.indexCarouselDestination)&&{indexCarouselDestination:null==e||null==(t=e.event)?void 0:t.indexCarouselDestination})}function qt(e){var n;return{direction:null==e||null==(n=e.event)?void 0:n.direction}}var jt="product page",Vt={event:i};function zt(e){var n,t,o,i,u,a;return r({},Vt,{category:null==e||null==(n=e.event)?void 0:n.category,label:null==e||null==(t=e.event)?void 0:t.label,urlDestination:null==e||null==(o=e.event)?void 0:o.urlDestination,ctaLabel:null==e||null==(i=e.event)?void 0:i.ctaLabel,indexRouting:null==e||null==(u=e.event)?void 0:u.indexRouting,totalRouting:null==e||null==(a=e.event)?void 0:a.totalRouting})}var Gt="site_search",Ht="view_search_results";function Wt(e,n,t,r){var o,i,u,a,c,l,s,d={event:null!=r?r:Gt,searchTerm:null!=(o=null==t||null==(i=t.event)?void 0:i.search_query)?o:null==t||null==(u=t.event)?void 0:u.query,searchCat:null!=(a=null==t||null==(c=t.event)?void 0:c.search_category)?a:null==t||null==(l=t.event)?void 0:l.label,searchOrigin:null==t||null==(s=t.event)?void 0:s.category,country:n.country};e.push(d)}function Jt(e,n,t){var o,u,a,c,l,s,d,f,v,p,y=r({event:i,action:null==n||null==(o=n.event)?void 0:o.action},(null==n||null==(u=n.event)?void 0:u.label)&&{label:null==n||null==(a=n.event)?void 0:a.label},(null==n||null==(c=n.event)?void 0:c.search_query)&&{search_query:null==n||null==(l=n.event)?void 0:l.search_query},(null==n||null==(s=n.event)?void 0:s.filter_name)&&{filter_name:null==n||null==(d=n.event)?void 0:d.filter_name},(null==n||null==(f=n.event)?void 0:f.errorMessage)&&{errorMessage:null==n||null==(v=n.event)?void 0:v.errorMessage},{category:null==n||null==(p=n.event)?void 0:p.category,country:t.country});e.push(y)}function Zt(e,n,t){var o,a,c,l,s=r({},(null==n||null==(o=n.event)?void 0:o.subject)&&{emailSubject:null==n||null==(a=n.event)?void 0:a.subject}),d=new u(i,"client services",null==n||null==(c=n.event)?void 0:c.action,null==n||null==(l=n.event)?void 0:l.label,t.country,s);e.push(d)}function Kt(e,n,t){var o,a,c,l,s,d,f,v,p,y=r({},(null==n||null==(o=n.event)?void 0:o.clientAdvisorId)&&{clientAdvisorId:null==n||null==(a=n.event)?void 0:a.clientAdvisorId},(null==n||null==(c=n.event)?void 0:c.clientAdvisorType)&&{clientAdvisorType:null==n||null==(l=n.event)?void 0:l.clientAdvisorType},(null==n||null==(s=n.event)?void 0:s.assignedStores)&&{assignedStores:null==n||null==(d=n.event)?void 0:d.assignedStores},(null==n||null==(f=n.event)?void 0:f.storeId)&&{storeId:null==n||null==(v=n.event)?void 0:v.storeId}),g=new u(i,"client-advisor",null==n||null==(p=n.event)?void 0:p.action,void 0,t.country,y);e.push(g)}var $t=["funhouseNavigation.back","funhouseNavigation.clickNavigationBottonLink"],Xt=["funhouseNavigation.itemClick","funhouseNavigation.close","funhouseNavigation.open"],Yt=["gucci.com","guccidigital.com","regiongold.com","localhost"];function Qt(e){var n=Yt.some(function(n){return e.includes(n)});if(""===e||!n)return"referral page";var t=new URL(e).pathname.slice(1).replace(/\/$/,"").split("/");switch(!0){case 2===t.length:return"home";case"st"===t[2]&&"newsearchpage"===t[3]:return"search";case"ca"===t[2]:return"category";case"co"===t[2]:return"collection";case"pr"===t[2]:return"product page";case"st"===t[2]&&"capsule"===t[3]:return"capsule";case"lo"===t[2]&&t[t.length-1].indexOf("-c-")>=0:return"looks grid";case"lo"===t[2]&&t[t.length-1].indexOf("-p-")>=0:return"look page";case"cart"===t[2]:return"shopping bag";case"checkout"===t[2]&&"orderConfirmation"===t[3]:return"order confirmation";case"store"===t[2]:return"store";case"wishlist"===t[2]&&"saved-items"===t[3]:return"saved items";default:return"other page"}}var er="search",nr=function(e,n){return function(t){var r={event:i,category:er,action:Qt(t.event.referrer),label:t.event.query,searchResultsCount:t.event.hits,country:n.country};e.push(r)}},tr=function(e,n){return function(t){e.push({event:i,category:er,action:"click on links on searchbox",label:t.event.label,country:n.country})}},rr=function(e,n){return function(t){e.push({event:Gt,searchTerm:t.event.searchTerm,searchCat:t.event.searchCat,searchOrigin:"search engine",country:n.country})}},or=function(e,n){return function(t){e.push({event:Ht,searchTerm:t.event.searchTerm,searchCat:t.event.searchCat,searchOrigin:"search engine",searchResultsCount:t.event.searchResultsCount,country:n.country})}},ir="fitpredictor",ur=function(e,n){return function(t){e.push({event:i,category:ir,action:"click on widget",country:n.country,label:t.event.styleCode})}},ar=function(e,n){return function(t){e.push({event:i,category:ir,action:t.event.productSupported?"product supported":"product not supported",country:n.country,label:t.event.styleCode})}},cr=function(e,n){return function(t){e.push({event:i,category:ir,action:"product profiled",country:n.country,label:t.event.styleCode})}},lr=function(e,n){return function(t){e.push({event:i,category:ir,action:"size predicted",country:n.country,label:t.event.styleCode+" ("+t.event.size+")"})}},sr=["funhouseTickerTape.display","funhouseTickerTape.displayMessage","funhouseTickerTape.interaction","funhouseTickerTape.clickOnItem"],dr="product grid",fr=["optimizely.experiment"],vr={event:i};function pr(e){var n,t;return r({},vr,{category:null==e||null==(n=e.event)?void 0:n.category,label:null==e||null==(t=e.event)?void 0:t.label})}function yr(e){var n,t;return r({},pr(e),{urlDestination:null==e||null==(n=e.event)?void 0:n.urlDestination,ctaLabel:null==e||null==(t=e.event)?void 0:t.ctaLabel})}var gr=["contactUsDrawer.clientServices"],mr="filter",hr="search-result-page",br={event:i};function kr(e){var n,t,o;return r({},br,{category:null==e||null==(n=e.event)?void 0:n.category,label:null==e||null==(t=e.event)?void 0:t.label,urlDestination:null==e||null==(o=e.event)?void 0:o.urlDestination})}var wr={event:i};function Cr(e){var n,t,o,i;return r({},wr,{category:null==e||null==(n=e.event)?void 0:n.category,label:null==e||null==(t=e.event)?void 0:t.label,mosaicName:null==e||null==(o=e.event)?void 0:o.mosaicName,mosaicTilesNumber:null==e||null==(i=e.event)?void 0:i.mosaicTilesNumber})}var _r=["funhousePromoBanner.display"],Sr=new ot(Ar(),ct),Er=xr(Ar());function xr(e){var s=St.byCountry(e),d=Tt(e),f=new n({country:e,currency:d,exchangeRate:s}),v=new l(t.dataLayer);return new Map([].concat(Array.from(function(e,n){return new Map([].concat(Array.from(new Map(at.map(function(t){return[t,function(t){return function(e,n,t){var o,i,u,a,c,l=r({},ut,{action:null==n||null==(o=n.event)?void 0:o.action,label:null==n||null==(i=n.event)?void 0:i.label,storeId:null==n||null==(u=n.event)?void 0:u.storeId,storeName:null==n||null==(a=n.event)?void 0:a.storeName},n&&n.event&&n.event.sku&&{sku:null==n||null==(c=n.event)?void 0:c.sku},{country:t.country});e.push(l)}(e,t,n)}]}))),[["bookanappointment.submitted",function(t){return function(e,n,t){var o,i,u,a,c,l,s=r({},ut,{action:"submitted",label:null==n||null==(o=n.event)?void 0:o.label,storeId:null==n||null==(i=n.event)?void 0:i.storeId,storeName:null==n||null==(u=n.event)?void 0:u.storeName,storeSlug:null==n||null==(a=n.event)?void 0:a.storeSlug},n&&n.event&&n.event.sku&&{sku:null==n||null==(c=n.event)?void 0:c.sku},{bookanappointment_code:null==n||null==(l=n.event)?void 0:l.bookanappointment_code,country:t.country});e.push(s)}(e,t,n)}],["bookanappointment.error",function(t){return function(e,n,t){var o,i,u,a,c,l=r({},ut,{action:"error",label:null==n||null==(o=n.event)?void 0:o.label,message:null==n||null==(i=n.event)?void 0:i.message,storeId:null==n||null==(u=n.event)?void 0:u.storeId,storeName:null==n||null==(a=n.event)?void 0:a.storeName},n&&n.event&&n.event.sku&&{sku:null==n||null==(c=n.event)?void 0:c.sku},{country:t.country});e.push(l)}(e,t,n)}]]))}(v,f).entries()),Array.from(function(e,n){var o=function(t){return c(e,t,n)};return new Map([["view_item_list",function(t){return function(e,n,t){for(var o=t.country,i=n.event.language,u=[].concat(n.event.items),a=kt.COUNTRIES.includes(o.toLowerCase())?kt.JP_KR_LENGTH:kt.MAX_LENGTH,c=n.event.item_list_id.replace("/"+o+"/"+i,"");u.length;){var l,s,d=u.splice(0,a),f={event:"view_item_list",category:"ecommerce",action:"productImpression",country:o,label:null!=(l=null==n||null==(s=n.event)?void 0:s.label)?l:"",item_list_id:c,item_list_name:n.event.item_list_name,items:d.map(function(e){return vt(e,t)}).map(function(e){return r({},e,{item_list_id:c})})};e.push(f)}}(e,t,n)}],["view_item",function(t){return function(e,n,t){var r,o,i={event:"view_item",category:"ecommerce",action:"viewProductDetail",country:t.country,label:null!=(r=null==n||null==(o=n.event)?void 0:o.label)?r:"",items:[vt(n.event,t)]};e.push(i)}(e,t,n)}],["select_item",function(t){return function(e,n,t){var o,i,u=n.event.item_list_id.replace("/"+n.event.country+"/"+n.event.language,""),a=n.event.items.map(function(e){return vt(e,t)}).map(function(e){return r({},e,{item_list_id:u})}),c={event:"select_item",category:"ecommerce",action:"productClick",country:t.country,label:null!=(o=null==n||null==(i=n.event)?void 0:i.label)?o:"",item_list_id:u,item_list_name:n.event.item_list_name,items:a};e.push(c)}(e,t,n)}],["add_to_cart",function(o){return function(e,n,t,o){var i,u,a,c=t.event,l=null!=(i=e.getViewItemProduct(null==c?void 0:c.item_id))?i:e.getViewItemListProduct(null==c?void 0:c.item_id);if(!l)throw new Error("viewItemProduct is missing from previous event in the funnel");var s={event:"add_to_cart",category:"ecommerce",action:"addToCart",country:o.country,label:null!=(u=null==t||null==(a=t.event)?void 0:a.label)?u:"",add_to_cart_type:null==c?void 0:c.addToCartType,items:[r({},l)]};n.push(s)}(t.dataLayer,e,o,n)}],["remove_from_cart",function(t){return function(e,n,t){var r,o,i={event:"remove_from_cart",category:"ecommerce",action:"removeFromCart",country:t.country,label:null!=(r=null==n||null==(o=n.event)?void 0:o.label)?r:"",items:[vt(n.event,t)]};e.push(i)}(e,t,n)}],["view_cart",function(t){return function(e,n,t){var r,o,i,u=null!=(r=null==n||null==(o=n.event)?void 0:o.label)?r:"",a={event:"view_cart",category:"ecommerce",action:"shoppingBagCheckout",label:u=mt(u)?u:"",country:t.country,items:null==n||null==(i=n.event)?void 0:i.items.map(function(e){return ft(e,t)})};e.push(a)}(e,t,n)}],["view_sign_in_info",function(t){return function(e,n,t){var r,o,i,u=null==(r=n.event)?void 0:r.items.map(function(e){return ft(e,t)});if(!u)throw new Error("productsInCart is missing from previous event in the funnel");var a={event:"view_sign_in_info",category:"ecommerce",action:"checkoutSignin",label:null!=(o=null==n||null==(i=n.event)?void 0:i.label)?o:"",items:u,country:t.country};e.push(a)}(e,t,n)}],["begin_checkout",function(t){return function(e,n,t){var r,o,i,u,a,c,l,s,d=null!=(r=null==n||null==(o=n.event)?void 0:o.category)?r:"";d=gt(d)?d:"";var f=null!=(i=null==n||null==(u=n.event)?void 0:u.label)?i:"";f=mt(f)?f:"";var v={event:"begin_checkout",category:d,action:null!=(a=null==n||null==(c=n.event)?void 0:c.action)?a:"",label:f,items:n.event.items.map(function(e){return ft(e,t)}),country:t.country,detail_checkout_button:null!=(l=null==n||null==(s=n.event)?void 0:s.detail_checkout_button)?l:""};e.push(v)}(e,t,n)}],["autosuggestion_form",function(t){return function(e,n,t){var r,o,i,u,a,c,l=null!=(r=null==n||null==(o=n.event)?void 0:o.category)?r:"";l=gt(l)?l:"";var s=null!=(i=null==n||null==(u=n.event)?void 0:u.label)?i:"";s=mt(s)?s:"";var d={event:"autosuggestion_form",category:l,action:null!=(a=null==n||null==(c=n.event)?void 0:c.action)?a:"",label:s,country:t.country};e.push(d)}(e,t,n)}],["add_payment_info",function(t){return function(e,n,t){var r,o,i,u,a={event:"add_payment_info",category:"checkout",action:"checkoutOptions",label:"payment",payment_type:null==n||null==(r=n.event)?void 0:r.paymentOption,country:t.country,items:null!=(o=null==(i=n.event)||null==(u=i.items)?void 0:u.map(function(e){return ft(e,t)}))?o:st(function(e){return ft(e,t)})};e.push(a)}(e,t,n)}],["view_shipping_info",function(t){return function(e,n){e.push({event:"view_shipping_info",category:"checkout",action:"checkoutView",label:"shipping",country:n.country})}(e,n)}],["add_shipping_info",function(r){return function(e,n,t,r){var o,i,u,a,c,l=null!=(o=t.event.deliveryMethod)?o:e.getDeliveryMethod(),s={event:"add_shipping_info",shipping_tier:null!=(i=t.event.shippingOption)?i:l+"-"+t.event.selectedShippingOption,category:"checkout",action:"checkoutOptions",label:"shipping",country:r.country,items:null!=(u=null==(a=t.event)||null==(c=a.items)?void 0:c.map(function(e){return ft(e,r)}))?u:st(function(e){return ft(e,r)})};n.push(s)}(t.dataLayer,e,r,n)}],["view_gifting_info",function(t){return function(e,n,t){var r,o,i,u={event:"view_gifting_info",category:"checkout",action:"checkoutView",label:"gifting",country:t.country,items:null!=(r=null==(o=n.event)||null==(i=o.items)?void 0:i.map(function(e){return ft(e,t)}))?r:st(function(e){return ft(e,t)})};e.push(u)}(e,t,n)}],["add_gifting_info",function(t){return function(e,n,t){var r,o,i,u,a,c={event:"add_gifting_info",category:"checkout",action:"checkoutOptions",label:"message_"+(null!=(r=null==(o=n.event)?void 0:o.message)&&r),country:t.country,items:null!=(i=null==(u=n.event)||null==(a=u.items)?void 0:a.map(function(e){return ft(e,t)}))?i:st(function(e){return ft(e,t)})};e.push(c)}(e,t,n)}],["purchase",function(t){return function(e,n,t){var r=n.event.order_number;if(null===bt()||bt()!==r){window.sessionStorage.setItem(ht,r);var o=t.exchangeRate,i=Number(o.convert(parseFloat(n.event.order_total_value)).toFixed(2)),u=Number(o.convert(parseFloat(n.event.tax_amount)).toFixed(2)),a=Number(o.convert(parseFloat(n.event.shipping_amount)).toFixed(2)),c=o.getCurrency(),l={event:"purchaseGA4",category:"ecommerce",action:"purchase",label:"",transaction_id:r,value:i,tax:u,shipping:a,local_value:n.event.order_total_value,local_tax:n.event.tax_amount,local_shipping:n.event.shipping_amount,currency:c,purchaseShippingOption:n.event.purchaseShippingOption,purchasePaymentOption:n.event.purchasePaymentOption,purchasePackagingOption:n.event.purchasePackagingOption,purchaseGiftMessageOption:n.event.purchaseGiftMessageOption,country:t.country,fourGiftCodeAfter:n.event.fourGiftCodeAfter,items:n.event.items.map(function(e){return ft(e,t)})};e.push(l)}}(e,t,n)}],["place_order",function(t){return function(e,n){e.push({event:"place_order",category:"checkout",action:"checkoutclick",label:"place_order",country:n.country})}(e,n)}],["view_payment_info",function(t){return function(e,n){e.push({event:"view_payment_info",category:"checkout",action:"checkoutView",label:"payment",country:n.country})}(e,n)}],["add_sign_in_info",function(t){return function(e,n,t){e.push({event:"add_sign_in_info",category:"checkout",action:"checkoutOptions",label:"signIn",checkoutLoginType:n.event.checkoutLoginType,country:t.country})}(e,t,n)}],["save_to_wishlist_cart_item",o],["place_order_error",o],["edit_cart_item",o],["shipping_validation_error",o],["amazon_error",o],["payment_form_error",o],["paypal_express_cart",o],["amazon_express_cart",o],["checkout_sidebar",o],["four_gift_event",o],["merge_overlay",o],["jp_navigation_step",o],["collect-in-store",function(t){return function(e,n,t){var o,a,c,l,s,d,f,v,p,y,g=r({},(null==n||null==(o=n.event)?void 0:o.storeId)&&{storeId:null==n||null==(a=n.event)?void 0:a.storeId},(null==n||null==(c=n.event)?void 0:c.storeName)&&{storeName:null==n||null==(l=n.event)?void 0:l.storeName},(null==n||null==(s=n.event)?void 0:s.storeCity)&&{storeCity:null==n||null==(d=n.event)?void 0:d.storeCity},(null==n||null==(f=n.event)?void 0:f.storeState)&&{storeState:null==n||null==(v=n.event)?void 0:v.storeState}),m=new u(i,"checkout",null==n||null==(p=n.event)?void 0:p.action,null==n||null==(y=n.event)?void 0:y.label,t.country,g);e.push(m)}(e,t,n)}]])}(v,f).entries()),Array.from(function(e,n){return new Map([["herosinglecomponent.show",function(t){return function(e,n,t){var o=r({},Mt(n),{action:"displayHeroSingle",country:t.country});e.push(o)}(e,t,n)}],["herosinglecomponent.tap",function(t){return function(e,n,t){var o,i=r({},Mt(n),{action:"actionHeroSingle",actionElement:null==n||null==(o=n.event)?void 0:o.actionElement,country:t.country});e.push(i)}(e,t,n)}],["herocarouselcomponent.mouseover",function(t){return function(e,n,t){var o=r({},It(n),{action:"overHeroCarousel",country:t.country});e.push(o)}(e,t,n)}],["herocarouselcomponent.mouseclick",function(t){return function(e,n,t){var o=r({},It(n),{action:"actionHeroCarousel",country:t.country});e.push(o)}(e,t,n)}]])}(v,f).entries()),Array.from(function(e,n){return new Map([["routingupcomponent.show",function(t){return function(e,n,t){var o=r({},zt(n),{action:"displayRoutingUp",country:t.country});e.push(o)}(e,t,n)}],["routingupcomponent.tap",function(t){return function(e,n,t){var o,i=r({},zt(n),{action:"actionRoutingUp",actionElement:null==n||null==(o=n.event)?void 0:o.actionElement,country:t.country});e.push(i)}(e,t,n)}]])}(v,f).entries()),Array.from(function(e,n){return new Map([["featuredcomponent.show",function(t){return function(e,n,t){var o=r({},Ct(n),{action:"displayFeatured",country:t.country});e.push(o)}(e,t,n)}],["featuredcomponent.tap",function(t){return function(e,n,t){var o,i=r({},Ct(n),{action:"actionFeatured",actionElement:null==n||null==(o=n.event)?void 0:o.actionElement,country:t.country});e.push(i)}(e,t,n)}]])}(v,f).entries()),Array.from(function(e,n){return new Map([["productcomponent.show",function(t){return function(e,n,t){var o=r({},Ft(n),{action:"displayProductComponent",country:t.country});e.push(o)}(e,t,n)}],["productcomponent.tap",function(t){return function(e,n,t){var o,i,u=r({},Ft(n),{action:null!=n&&null!=(o=n.event)&&o.isCategory?"actionProductCategoryComponent":"actionProductComponent",actionElement:null==n||null==(i=n.event)?void 0:i.actionElement,country:t.country});e.push(u)}(e,t,n)}],["productcomponent.arrow.tap",function(t){return function(e,n,t){var o=r({},Nt(n),qt(n),Ut(n),{action:"actionProductComponentArrow",country:t.country});e.push(o)}(e,t,n)}],["productcomponent.arrow.over",function(t){return function(e,n,t){var o=r({},Nt(n),qt(n),{action:"overProductComponentArrow",country:t.country});e.push(o)}(e,t,n)}],["productcomponent.bar",function(t){return function(e,n,t){var o=r({},Nt(n),Ut(n),{action:"actionProductComponentBar",country:t.country});e.push(o)}(e,t,n)}],["productcomponent.drag",function(t){return function(e,n,t){var o=r({},Nt(n),Ut(n),{action:"actionProductComponentDrag",country:t.country});e.push(o)}(e,t,n)}]])}(v,f).entries()),Array.from(function(e,n){return new Map(At.map(function(t){return[t,function(t){return c(e,t,n)}]}))}(v,f).entries()),Array.from(function(e,n){return new Map(Lt.map(function(t){return[t,function(t){return function(e,n,t){var u,a,c,l=n.event;l||o("Error: event not found");var s=r({event:i,category:null!=(u=l.category)?u:o("Error: category in genericEvent is null or undefined"),action:null!=(a=l.action)?a:o("Error: action in genericEvent is null or undefined"),label:null!=(c=l.label)?c:""},l.minicartCurrentPage&&{minicartCurrentPage:l.minicartCurrentPage},{country:t.country});e.push(s)}(e,t,n)}]}))}(v,f).entries()),Array.from(function(e,n){return new Map(gr.map(function(t){return[t,function(t){return c(e,t,n)}]}))}(v,f).entries()),Array.from(function(e,n){return new Map(xt.map(function(t){return[t,function(t){return c(e,t,n)}]}))}(v,f).entries()),Array.from(function(e,n){return new Map($t.map(function(t){return[t,function(t){return c(e,t,n)}]}))}(v,f).entries()),Array.from(function(e,n){return new Map(Xt.map(function(t){return[t,function(t){return function(e,n,t){var u,a,c,l=n.event;l||o("Error: event not found");var s=r({event:i,category:null!=(u=l.category)?u:o("Error: category in genericEvent is null or undefined"),action:null!=(a=l.action)?a:o("Error: action in genericEvent is null or undefined"),label:null!=(c=l.label)?c:""},l.menuLabelsDisplayed&&{menuLabelsDisplayed:l.menuLabelsDisplayed},l.menuCurrentPage&&{menuCurrentPage:l.menuCurrentPage},l.menuUrlDestination&&{menuUrlDestination:l.menuUrlDestination},{country:t.country});e.push(s)}(e,t,n)}]}))}(v,f).entries()),Array.from(function(e,n){return new Map(fr.map(function(t){return[t,function(t){return function(e,n,t){var u,a,c,l=n.event;l||o("Error: event not found");var s=r({event:i,category:null!=(u=l.category)?u:o("Error: category in genericEvent is null or undefined"),action:null!=(a=l.action)?a:o("Error: action in genericEvent is null or undefined"),label:null!=(c=l.label)?c:""},l.experiments&&{experiments:l.experiments},{country:t.country});e.push(s)}(e,t,n)}]}))}(v,f).entries()),Array.from(function(e,n){return new Map(sr.map(function(t){return[t,function(t){return function(e,n,t){var u,a,c,l=n.event;l||o("Error: event not found");var s=r({event:i,category:null!=(u=l.category)?u:o("Error: category in genericEvent is null or undefined"),action:null!=(a=l.action)?a:o("Error: action in genericEvent is null or undefined"),label:null!=(c=l.label)?c:""},l.linkDestination&&{linkDestination:l.linkDestination},{country:t.country});e.push(s)}(e,t,n)}]}))}(v,f).entries()),Array.from(function(e,n){return new Map(_r.map(function(t){return[t,function(t){return function(e,n,t){var u,a,c,l=n.event;l||o("Error: event not found");var s=r({event:i,category:null!=(u=l.category)?u:o("Error: category in genericEvent is null or undefined"),action:null!=(a=l.action)?a:o("Error: action in genericEvent is null or undefined"),label:null!=(c=l.label)?c:""},l.linkDestination&&{linkDestination:l.linkDestination},{country:t.country});e.push(s)}(e,t,n)}]}))}(v,f).entries()),Array.from(function(e,n){return new Map([].concat(Array.from(new Map(Bt.map(function(t){return[t,function(t){return c(e,t,n)}]}))),[["myAccount.trackUserLogged",function(t){return function(e,n,t){var r,o,u,a,c,l,s,d,f,v,p,y,g=0;void 0!==(null==t||null==(r=t.event)||null==(o=r.data)?void 0:o.is_logged)&&(g=null!=t&&null!=(p=t.event)&&null!=(y=p.data)&&y.is_logged?1:0);var m={event:i,category:null!=(u=null==t||null==(a=t.event)?void 0:a.category)?u:"my account",action:null!=(c=null==t||null==(l=t.event)?void 0:l.action)?c:"track user logged",label:null==t||null==(s=t.event)?void 0:s.label,country:n.country,klientid:null!=(d=null==t||null==(f=t.event)||null==(v=f.data)?void 0:v.klientid)?d:"",userLogged:g};e.push(m)}(e,n,t)}]]))}(v,f).entries()),Array.from(function(e,n){return new Map([["storediscovery.stores-map-move",function(t){return Jt(e,t,n)}],["storediscovery.filter-stores",function(t){return Jt(e,t,n)}],["storediscovery.page_view",function(t){return Jt(e,t,n)}],["storediscovery.store-search",function(t){return Wt(e,n,t)}],["storediscovery.find-in-store-search",function(t){return Wt(e,n,t)}],["storediscovery.stores-map-zoom",function(t){return function(e,n,t){var r,o,u,a={event:i,action:null==n||null==(r=n.event)?void 0:r.zoom_type,label:null==n||null==(o=n.event)?void 0:o.action,category:null==n||null==(u=n.event)?void 0:u.category,country:t.country};e.push(a)}(e,t,n)}],["storediscovery.store-pin",function(t){return function(e,n,t){var r,o,a,c,l,s,d,f,v,p,y,g={storeName:null==n||null==(r=n.event)||null==(o=r.storeDetails)?void 0:o.name,storeCity:null==n||null==(a=n.event)||null==(c=a.storeDetails)?void 0:c.city,storeCountry:null==n||null==(l=n.event)||null==(s=l.storeDetails)?void 0:s.country,storeCategory:null==n||null==(d=n.event)||null==(f=d.storeDetails)?void 0:f.category},m=new u(i,null==n||null==(v=n.event)?void 0:v.category,null==n||null==(p=n.event)?void 0:p.action,null==n||null==(y=n.event)?void 0:y.label,t.country,g);e.push(m)}(e,t,n)}],["storediscovery.store-view-click",function(t){return function(e,n,t){var o,a,c,l,s,d,f,v,p,y,g,m=r({},(null==n||null==(o=n.event)||null==(a=o.storeDetails)?void 0:a.storeName)&&{storeName:null==n||null==(c=n.event)||null==(l=c.storeDetails)?void 0:l.storeName},(null==n||null==(s=n.event)||null==(d=s.storeDetails)?void 0:d.storeSlug)&&{storeSlug:null==n||null==(f=n.event)||null==(v=f.storeDetails)?void 0:v.storeSlug}),h=new u(i,null==n||null==(p=n.event)?void 0:p.category,null==n||null==(y=n.event)?void 0:y.action,null==n||null==(g=n.event)?void 0:g.label,t.country,m);e.push(h)}(e,t,n)}],["storediscovery.error",function(t){return Jt(e,t,n)}],["storediscovery.view_search_results",function(t){return Wt(e,n,t,Ht)}]])}(v,f).entries()),Array.from(function(e,n){return new Map([["clientServices.emailus",function(t){return Zt(e,t,n)}],["clientServices.clickToCall",function(t){return Zt(e,t,n)}],["clientServices.messageUs",function(t){return Zt(e,t,n)}],["clientServices.page_view",function(t){return Zt(e,t,n)}]])}(v,f).entries()),Array.from(function(e){var n=function(n){return function(e,n){var t,o;if(n&&n.event){var i=n.event.country,u=r({event:"genericEvent",category:"my gucci appointments",action:null==n||null==(t=n.event)?void 0:t.action,label:null==n||null==(o=n.event)?void 0:o.label},i&&{country:i});e.push(u)}}(e,n)};return new Map([["myappointmetsreminder.available",n],["myappointmetsreminder.seen",n],["myappointmetsreminder.click",n]])}(v).entries()),Array.from(function(e,n){var t=function(e,n){function t(t,r){c(e,a(jt,t,r),n)}return{trackOpenSizeSelect:function(t){e.push({event:i,category:jt,action:"click to open size select",label:t.event.styleCode,sizeOptions:t.event.sizeOptions,country:n.country})},trackScrollCarousel:function(t){e.push({event:i,category:jt,action:"scroll alternative views",label:t.event.styleCode,indexCarousel:t.event.indexCarousel,country:n.country})},trackClickCarouselArrows:function(t){e.push({event:i,category:jt,action:"click on arrows to navigate alternative views",label:t.event.styleCode,indexCarousel:t.event.indexCarousel,country:n.country})},trackClickSizeGuideLink:function(e){return t("click on size guide link in pdp",e.event.productCategory)},trackZoomIn:function(e){return t("zoom in",e.event.styleCode)},trackZoomInNextArrow:function(e){return t("zoom in - click on next arrow",e.event.styleCode)},trackZoomInPreviousArrow:function(e){return t("zoom in - click on previous arrow",e.event.styleCode)},trackZoomInProductDetailsButton:function(e){return t("zoom in - click on product details button",e.event.styleCode)},trackOpenVariationPanel:function(e){return t("click to open variation panel",e.event.styleCode)},trackClickPdpAccordion:function(e){return t("click on pdp accordion",e.event.accordionTitle)},trackScrollCrossSell:function(t){c(e,a("personalization","scroll item - CrossSell",t.event.label),n)},trackClickOnFindInStoreLink:function(e){return t("click on find in store link",e.event.styleCode)},trackClickOnFindInStoreButton:function(e){return t("click on find in store button",e.event.styleCode)},trackClickOnAddToCart:function(t){e.push({event:i,category:jt,action:"click on addToCart",label:t.event.styleCode,sku:t.event.sku,country:n.country})},trackAddToCartFailed:function(t){e.push({event:i,category:jt,action:"addToCart fail",label:t.event.styleCode,country:n.country,sku:t.event.sku,errorMessage:t.event.errorMessage})},trackStartLoading360View:function(e){return t("startLoading360View",e.event.styleCode)},trackRender360View:function(e){return t("display360View",e.event.styleCode)},trackClick360View:function(e){return t("action360View",e.event.styleCode)},trackPlay360View:function(e){return t("play360View",e.event.styleCode)},trackRenderEditorialView:function(e){return t("displayEditorialView",e.event.styleCode)},trackEnabledEditorialView:function(e){return t("enabledEditorialView",e.event.styleCode)},trackDisabledEditorialView:function(e){return t("disabledEditorialView",e.event.styleCode)}}}(e,n);return new Map([["productPage.clickToOpenSizeSelect",t.trackOpenSizeSelect],["productPage.clickOnSizeGuideLinkInPdp",t.trackClickSizeGuideLink],["productPage.scrollAlternativeViews",t.trackScrollCarousel],["productPage.clickOnArrowsToNavigateAlternativeViews",t.trackClickCarouselArrows],["productPage.zoomIn",t.trackZoomIn],["productPage.zoomInClickOnNextArrow",t.trackZoomInNextArrow],["productPage.zoomInClickOnPreviousArrow",t.trackZoomInPreviousArrow],["productPage.zoomInClickOnProductDetailsButton",t.trackZoomInProductDetailsButton],["productPage.clickToOpenVariationPanel",t.trackOpenVariationPanel],["productPage.clickOnPdpAccordion",t.trackClickPdpAccordion],["personalization.scrollItemCrossSell",t.trackScrollCrossSell],["productPage.clickOnFindInStoreLink",t.trackClickOnFindInStoreLink],["productPage.clickOnFindInStoreButton",t.trackClickOnFindInStoreButton],["productPage.clickOnAddToCart",t.trackClickOnAddToCart],["productPage.addToCartFailed",t.trackAddToCartFailed],["productPage.startLoading360View",t.trackStartLoading360View],["productPage.render360View",t.trackRender360View],["productPage.clickOn360View",t.trackClick360View],["productPage.playOn360View",t.trackPlay360View],["productPage.renderEditorialView",t.trackRenderEditorialView],["productPage.enabledEditorialView",t.trackEnabledEditorialView],["productPage.disabledEditorialView",t.trackDisabledEditorialView]])}(v,f).entries()),Array.from(function(e,n){return new Map([["searchPage.clickOnLinksInSearchBox",tr(e,n)],["searchPage.search",nr(e,n)],["searchPage.siteSearch",rr(e,n)],["searchPage.viewSearchResults",or(e,n)]])}(v,f).entries()),Array.from(function(e,n){return new Map([["generic.capsule",function(t){return c(e,t,n)}]])}(v,f).entries()),Array.from(function(e,n){return new Map([["gucciapp.appbanner.click",function(t){return c(e,a("app banner","click on app banner",t.event.label),n)}],["gucciapp.appbanner.show",function(t){return c(e,a("app banner","app banner shown",t.event.label),n)}]])}(v,f).entries()),Array.from(function(e,n){return new Map([["clientAdvisor.openOverlay",function(t){return Kt(e,t,n)}],["clientAdvisor.startSession",function(t){return Kt(e,t,n)}],["clientAdvisor.changeStore",function(t){return Kt(e,t,n)}],["clientAdvisor.logout",function(t){return Kt(e,t,n)}]])}(v,f).entries()),Array.from(function(e,n){return new Map([["livechat",function(t){return c(e,t,n)}],["videochat",function(t){return function(e,n,t){var o,u={category:n.event.category,country:t.country,agentId:n.event.agentId,agentName:n.event.agentName,location:n.event.location,callId:n.event.callId,event:i};switch(n.event.action){case"tab_shown":o=r({label:"not started",action:n.event.action.replace("_"," ")},u);break;case"tab_closed":o=r({label:void 0!==n.event.callId?"available":"not started",action:n.event.action.replace("_"," "),videoCallActorType:"customer"},u);break;case"tab_clicked":o=r({label:void 0!==n.event.callId?"closed":"not started",action:n.event.action.replace("_"," "),videoCallActorType:"customer"},u);break;case"call_requested":o=r({label:"started",action:n.event.action.replace("_"," "),videoCallActorType:"customer"},u);break;case"call_connected":case"call_resumed":o=r({label:"available",action:n.event.action.replace("_"," "),videoCallActorType:"agent"},u);break;case"call_ended":o=r({label:"available",action:n.event.action.replace("_"," "),videoCallActorType:"true"===n.event.userHangup?"customer":"agent"},u);break;case"call_hold":o=r({label:"on_hold",action:n.event.action.replace("_"," "),videoCallActorType:"agent"},u);break;case"audio_toggled":o=r({label:"available",action:n.event.action.replace("_"," "),videoCallActorType:"customer"},u);break;case"survey_feedback_submitted":case"survey_happy_clicked":case"survey_unhappy_clicked":o=r({label:"closed",action:n.event.action.replace("_"," "),videoCallActorType:"customer"},u);break;default:o=r({label:JSON.stringify(n),action:n.event.action},u)}e.push(o)}(e,t,n)}]])}(v,f).entries()),Array.from(function(e,n){return new Map([["distanceSales",function(t){return function(e,n,t){var o="purchase"===n.event.action,u=r({event:i,action:n.event.action},!o&&{label:n.event.label},{category:n.event.category,country:t.country},o&&{distanceSalesRevenue:n.event.revenue},o&&{distanceSalesTransactionId:n.event.label});e.push(u)}(e,t,n)}]])}(v,f).entries()),Array.from(function(e,n){return new Map([["generic.event",function(t){return c(e,t,n)}]])}(v,f).entries()),Array.from(function(e,n){return new Map([["fitPredictor.clickOnWidget",ur(e,n)],["fitPredictor.productSupportedOrNo",ar(e,n)],["fitPredictor.productProfiled",cr(e,n)],["fitPredictor.sizePredicted",lr(e,n)]])}(v,f).entries()),Array.from(function(e,n){var t=function(e,n){function t(t,r){c(e,a(dr,t,r),n)}return{trackClickOnLoadMore:function(){return t("click on load more",function(){var e=window.location.pathname;if(e.indexOf("/search")>=0||e.indexOf("/newsearchpage")>=0)return"search-result-page";if(e.indexOf("-c-")>-1){var n=e.split("-c-")[0].split("/");return n[n.length-1]}return""}())},trackAddToWishlist:function(t){e.push({event:i,category:dr,action:"add to wishlist",label:"Logged: "+t.event.userLogged,country:n.country})},trackClickOnPromoComponent:function(e){return t("click on promo component link",e.event.styleCode)},trackClickOnAlternativeView:function(t){e.push({event:i,category:dr,action:"click on alternative view",label:t.event.styleCode+" - "+t.event.slidePosition,country:n.country})}}}(e,n);return new Map([["productGrid.clickOnLoadMore",t.trackClickOnLoadMore],["productGrid.addToWishList",t.trackAddToWishlist],["productGrid.clickOnPromoComponent",t.trackClickOnPromoComponent],["productGrid.clickOnAlternativeView",t.trackClickOnAlternativeView]])}(v,f).entries()),Array.from(function(e,n){return new Map([["storiesmodulecomponent.show",function(t){return function(e,n,t){var o=r({},pr(n),{action:"displayStory",country:t.country});e.push(o)}(e,t,n)}],["storiesmodulecomponent.title.tap",function(t){return function(e,n,t){var o=r({},yr(n),{action:"actionTitleStories",country:t.country});e.push(o)}(e,t,n)}],["storiesmodulecomponent.cta.tap",function(t){return function(e,n,t){var o=r({},yr(n),{action:"actionMainCtaStories",country:t.country});e.push(o)}(e,t,n)}],["storiesmodulecomponent.story.tap",function(t){return function(e,n,t){var o=r({},function(e){var n;return r({},yr(e),{actionElement:null==e||null==(n=e.event)?void 0:n.actionElement})}(n),{action:"actionStory",country:t.country});e.push(o)}(e,t,n)}]])}(v,f).entries()),Array.from(function(e,n){var t=function(e,n){function t(t){e.push({event:i,category:mr,action:"filter by "+t.event.filterType+" "+t.event.categoryName,label:t.event.clickedItem,indexFilter:t.event.indexFilter,country:n.country})}return{trackClickOnSortBy:function(t){e.push({event:i,category:mr,action:"sort by "+t.event.categoryName,label:t.event.clickedItem,country:n.country})},trackClickOnFilterType:t,trackClickOnCategory:function(e){var n=r({},e.event,{filterType:"category"});t({name:e.name,event:n})},trackClickOnFilters:function(t){c(e,a(mr,"filter by "+t.event.filterType+" "+t.event.categoryName,t.event.clickedFilters),n)},trackClickOnSortBySearchResultPage:function(t){c(e,a(mr,"sort by "+hr,t.event.clickedSortBy),n)},trackClickOnFilterBySearchResultPage:function(t){c(e,a(mr,"filter by "+hr,t.event.clickedItem),n)}}}(e,n);return new Map([["filter.clickOnSortBy",t.trackClickOnSortBy],["filter.clickOnFilterByLine",t.trackClickOnFilterType],["filter.clickOnFilterByCategory",t.trackClickOnCategory],["filter.clickOnFilterByFilters",t.trackClickOnFilters],["filter.clickOnSortBySearchResultPage",t.trackClickOnSortBySearchResultPage],["filter.clickOnFilterBySearchResultPage",t.trackClickOnFilterBySearchResultPage]])}(v,f).entries()),Array.from(function(e,n){return new Map([["mediacomponent.show",function(t){return function(e,n,t){var o=r({},kr(n),{action:"displayMedia",country:t.country});e.push(o)}(e,t,n)}],["mediacomponent.tap",function(t){return function(e,n,t){var o=r({},function(e){var n;return r({},kr(e),{actionElement:null==e||null==(n=e.event)?void 0:n.actionElement})}(n),{action:"actionMedia",country:t.country});e.push(o)}(e,t,n)}]])}(v,f).entries()),Array.from(function(e,n){return new Map([["mosaiccomponent.show",function(t){return function(e,n,t){var o=r({},Cr(n),{action:"displayMosaicSingle",country:t.country});e.push(o)}(e,t,n)}],["mosaiccomponent.tap",function(t){return function(e,n,t){var o=r({},Cr(n),{action:"actionMosaicSingle",country:t.country});e.push(o)}(e,t,n)}]])}(v,f).entries()),Array.from(function(e,n){return new Map([["herofullbleedcomponent.show",function(t){return function(e,n,t){var o=r({},Mt(n),{action:"displayHeroFullBleed",country:t.country});e.push(o)}(e,t,n)}],["herofullbleedcomponent.tap",function(t){return function(e,n,t){var o,i=r({},Mt(n),{action:"actionHeroFullBleed",actionElement:null==n||null==(o=n.event)?void 0:o.actionElement,country:t.country});e.push(i)}(e,t,n)}]])}(v,f).entries()),Array.from(function(e,n){var t=function(e,n){return{trackDrawerProductGrid:function(t){var o=r({event:i,category:t.event.category,action:t.event.action,label:t.event.label,outOfStock:t.event.outOfStock,country:n.country},t.event.actionElement?{actionElement:t.event.actionElement}:{});e.push(o)},trackClickDrawerCTA:function(t){c(e,a(t.event.category,t.event.action,t.event.label),n)}}}(e,n);return new Map([["shopTheLookDrawer.productGrid",t.trackDrawerProductGrid],["shopTheLookDrawer.clickCTA",t.trackClickDrawerCTA]])}(v,f).entries()),Array.from(function(e,n){var t=function(e,n){return{trackCrossSellRenderOrNot:function(t){c(e,a(t.event.category,t.event.action,t.event.label),n)}}}(e,n);return new Map([["crossSell.renderOrNot",t.trackCrossSellRenderOrNot]])}(v,f).entries())))}var Or=function(e){return{sendEvent:function(n){try{var t=xr(e).get(n.name);t&&t(n)}catch(e){var r=n.name+":"+(e instanceof Error?e.message:"string"==typeof e?e:e.message);Sr.logError("sendEvent error",{lib_version:it,payload:n,error_message:r})}document.dispatchEvent(new Event("analyticsSdkReady"))}}},Tr=Or(Ar());function Ar(){return window.location.pathname.split("/")[1]}e.LIB_VERSION=it,e.datadog=Sr,e.initTrackers=xr,e.initTracking=Or,e.trackers=Er,e.tracking=Tr});
